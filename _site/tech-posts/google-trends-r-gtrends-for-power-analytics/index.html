<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.547">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="John Yuill">
<meta name="dcterms.date" content="2022-01-16">

<title>Catbird Analytics - Google Trends + R: gtrendsR for Powerful Trend Analytics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/cookie-consent/cookie-consent.js"></script>
<link href="../../site_libs/cookie-consent/cookie-consent.css" rel="stylesheet">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://www.googletagmanager.com/gtag/js?id=G-5XF0SHH0KW"></script>

<script type="text/plain" cookie-consent="tracking">

window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'G-5XF0SHH0KW', { 'anonymize_ip': true});
</script>

<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({
  "notice_banner_type":"simple",
  "consent_type":"implied",
  "palette":"light",
  "language":"en",
  "page_load_consent_levels":["strictly-necessary","functionality","tracking","targeting"],
  "notice_banner_reject_button_hide":false,
  "preferences_center_close_button_hide":false,
  "website_name":""
  ,
"language":"en"
  });
});
</script> 
  
<script src="../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
<script src="../../site_libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="../../site_libs/typedarray-0.1/typedarray.min.js"></script>
<script src="../../site_libs/jquery-3.5.1/jquery.min.js"></script>
<link href="../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
<script src="../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
<script src="../../site_libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<link rel="stylesheet" href="../../styles.css">
<meta property="og:title" content="Catbird Analytics - Google Trends + R: gtrendsR for Powerful Trend Analytics">
<meta property="og:description" content="">
<meta property="og:image" content="img/google-trends.png">
<meta property="og:site_name" content="Catbird Analytics">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Catbird Analytics</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-products" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Products</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-products">    
        <li>
    <a class="dropdown-item" href="../../products/bc-lmr-dashboard.html">
 <span class="dropdown-text">BC Liquor Market Dashboard</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../portfolio.html">
 <span class="dropdown-text">More to Come</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../../portfolio.html"> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../tech-blog.html"> 
<span class="menu-text">Tech Blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/johnyuill/"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/jyuill"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/johnyuill"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#going-beyond-the-interface" id="toc-going-beyond-the-interface" class="nav-link active" data-scroll-target="#going-beyond-the-interface">Going Beyond the Interface</a></li>
  <li><a href="#google-trends-in-r" id="toc-google-trends-in-r" class="nav-link" data-scroll-target="#google-trends-in-r">Google Trends in R</a></li>
  <li><a href="#google-trends-parameters" id="toc-google-trends-parameters" class="nav-link" data-scroll-target="#google-trends-parameters">Google Trends Parameters</a></li>
  <li><a href="#setup---libraries" id="toc-setup---libraries" class="nav-link" data-scroll-target="#setup---libraries">Setup - Libraries</a></li>
  <li><a href="#single-term-query" id="toc-single-term-query" class="nav-link" data-scroll-target="#single-term-query">Single term query</a>
  <ul>
  <li><a href="#interest-over-time" id="toc-interest-over-time" class="nav-link" data-scroll-target="#interest-over-time">Interest over time</a></li>
  <li><a href="#related-topics" id="toc-related-topics" class="nav-link" data-scroll-target="#related-topics">Related Topics</a></li>
  <li><a href="#related-queries" id="toc-related-queries" class="nav-link" data-scroll-target="#related-queries">Related Queries</a></li>
  </ul></li>
  <li><a href="#multi-term-query" id="toc-multi-term-query" class="nav-link" data-scroll-target="#multi-term-query">Multi-Term Query</a>
  <ul>
  <li><a href="#interest-over-time-1" id="toc-interest-over-time-1" class="nav-link" data-scroll-target="#interest-over-time-1">Interest over time</a></li>
  </ul></li>
  <li><a href="#search-terms-vs-search-topics" id="toc-search-terms-vs-search-topics" class="nav-link" data-scroll-target="#search-terms-vs-search-topics">Search Terms vs Search ‘Topics’</a></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Google Trends + R: gtrendsR for Powerful Trend Analytics</h1>
  <div class="quarto-categories">
    <div class="quarto-category">R</div>
    <div class="quarto-category">APIs</div>
  </div>
  </div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>John Yuill </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 16, 2022</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">April 16, 2023</p>
    </div>
  </div>
    
  </div>
  


</header>


<p><a href="https://trends.google.com/trends/">Google Trends</a> is a popular tool for all manner of curiousity related to trends in search activity on the Google search engine:</p>
<ul>
<li>what topics are trending?</li>
<li>what are trends for a given search term?</li>
<li>how does this compare to other terms?</li>
<li>what related terms are people using?</li>
<li>how does interest vary by region?</li>
</ul>
<p>And lots more.</p>
<p>Google Trends has recently passed its 15th birthday, prompting a Google blog post on <a href="https://blog.google/products/search/15-tips-getting-most-out-google-trends/">“15 Tips for Getting the Most Out of Google Trends”</a>. One thing they noted right at the start is that they used Google Trends to identify search queries related to Google Trends in order to prioritize content for a blog post. This is a classic use case - <strong>using Google Trends to fuel content decisions for your marketing</strong>.</p>
<p>An important point is that Google Trends does not represent or translate to an <em>actual</em> number of searches. This search interest presented is <strong>indexed between 0 and 100</strong>, where <strong>100 indicates the peak search interest during the particular date range</strong> reported on. Everything is <em>relative</em> in Google Trends.</p>
<section id="going-beyond-the-interface" class="level2">
<h2 class="anchored" data-anchor-id="going-beyond-the-interface">Going Beyond the Interface</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/google-trends-interface-crypto-2023-04-16.png" class="img-fluid figure-img"></p>
<figcaption>Google Trends Interface</figcaption>
</figure>
</div>
<p>(Google Trends example: <a href="https://trends.google.com/trends/explore?q=cryptocurrency,bitcoin,ethereum,stock%20market,real%20estate&amp;hl=en">this query</a> )</p>
<p>Google Trends is a convenient, intuitive interface packed with info that can be great for playing around with, but comes with limitations for tracking trends over time, sharing with others, analyzing more deeply. You can <strong>export</strong> to a spreadsheet, but this comes with inefficiencies as well: you have to export data for each component in the interface separately and you may lose source information. And if you want to make any adjustments (change date range, geography, category, add terms) you have to go back in there and repeat the process.</p>
<p><strong>Using R to work with Google Trends</strong> can provide a more efficient solution if you want to:</p>
<ul>
<li>quickly <strong>import</strong> Google Trends data into R for further analysis.</li>
<li>grab <strong>all the modules</strong> from the Google Trends interface at once (interest over time, geo data, related topics, related queries).</li>
<li><strong>repeat</strong> Google Trends reporting to monitor trends over time.</li>
<li><strong>reproduce</strong> the same Google Trends data in future, based on detailed record of your query.</li>
<li><strong>integrate</strong> Google Trends reporting with other datasets or reporting structures.</li>
</ul>
</section>
<section id="google-trends-in-r" class="level2">
<h2 class="anchored" data-anchor-id="google-trends-in-r">Google Trends in R</h2>
<p>Google does not provide an official API for Google Trends but the <a href="https://cran.r-project.org/web/packages/gtrendsR/gtrendsR.pdf"><strong>gtrendsR</strong></a> R package created by Philippe Massicotte is a major helper in the accessing Google Trends data within R for reporting and analysis. Along with all the benefits of using R to process and analyze data, the gtrendsR package provides some big advantages over using the Google Trends Interface:</p>
<ul>
<li><strong>Durability</strong>: don’t have to go to the interface and fetch the data each time, you have an on-going reference with source info. You have code that can be referred to, re-used, and shared with others.</li>
<li><strong>Scalability</strong>: can expand on existing queries, going beyond the limit of 5 that are available in the tool.</li>
</ul>
</section>
<section id="google-trends-parameters" class="level2">
<h2 class="anchored" data-anchor-id="google-trends-parameters">Google Trends Parameters</h2>
<p>Google Trends has a number of parameters that can be used to fine-tune your search: date ranges, geo data, categories, Google properties. These are <strong>available via the gtrendsR package</strong>, corresponding to the options in the Google Trend online interface. You just have to know how to tap into them:</p>
<ul>
<li><strong>Dates</strong>:
<ul>
<li>“now 1-H”: last hour - by MINUTE</li>
<li>“now 4-H”: last 4 hrs - by MINUTE</li>
<li>“now 1-d”: last day - every 8 MINUTES</li>
<li>“now 7-d”: last 7 days - HOURLY data</li>
<li>“today 1-m”: last 30 days - DAILY data</li>
<li>“today 3-m”: last 90 days - DAILY data</li>
<li>“today 12-m”: last 12 months - WEEKLY data</li>
<li>“today+5-y”: last 5 yrs (default) - WEEKLY data</li>
<li>“all” since beginning of Google Trends 2004</li>
<li>“YYYY-MM-DD YYYY-MM-DD”: custom start / end date - granularity will depend on time spans above</li>
</ul></li>
<li><strong>Geo</strong>:
<ul>
<li>use gtrendsR::<strong>countries</strong> to see complete list</li>
<li>close to 110,000 options, including country / state / city</li>
<li>code below shows how to filter for countries</li>
<li><strong>geo=““</strong> for all countries</li>
</ul></li>
<li><strong>Categories</strong>:
<ul>
<li>use gtrendsR::<strong>categories</strong></li>
<li>over 1,400 categories, with ids that are used in the query</li>
<li><strong>category = 0</strong> for all categories</li>
</ul></li>
<li><strong>Google properties</strong>:
<ul>
<li>specify one or more of ‘web’, ‘news’, ‘images’, ‘froogle’, ‘youtube’</li>
<li>gprop=c(“web”, “youtube”) as example for web and youtube search</li>
</ul></li>
</ul>
</section>
<section id="setup---libraries" class="level2">
<h2 class="anchored" data-anchor-id="setup---libraries">Setup - Libraries</h2>
<p>There’s basically no setup required - no credentials, etc. Only need to load the gtrendsR package. <em>(I’ve pre-loaded other packages I’m using for general purpose, such as ‘tidyverse’, etc.)</em></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtrendsR) <span class="do">## package for accessing Google Trends - all you need to get going!</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="single-term-query" class="level2">
<h2 class="anchored" data-anchor-id="single-term-query">Single term query</h2>
<p>Using the gtrendsR package to get Google Trends for a single search term.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="do">## basic search</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>gt_results <span class="ot">&lt;-</span> <span class="fu">gtrends</span>(<span class="at">keyword=</span><span class="st">'cryptocurrency'</span>,</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>        <span class="at">geo=</span><span class="st">""</span>,</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>        <span class="at">time=</span><span class="st">"now 7-d"</span>,</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>        <span class="at">gprop=</span><span class="fu">c</span>(<span class="st">"web"</span>),</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">category=</span><span class="dv">0</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The query returns a bundle of 7 data frames with different info, reflecting what is shown in the Google Trends interface:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(gt_results)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "interest_over_time"  "interest_by_country" "interest_by_region" 
[4] "interest_by_dma"     "interest_by_city"    "related_topics"     
[7] "related_queries"    </code></pre>
</div>
</div>
<p>(see screenshot of Google Trends interface for comparison)</p>
<section id="interest-over-time" class="level3">
<h3 class="anchored" data-anchor-id="interest-over-time">Interest over time</h3>
<p>The <strong>‘interest_over_time’</strong> data frame is the main data object, with relative search volume for the selected search term, country, period, property, and category.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>chart_title <span class="ot">&lt;-</span> <span class="st">"Searches for: cryptocurrency"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>sub_title <span class="ot">&lt;-</span> <span class="st">"Period: past 7 days; Geo: world; Prop: 'web'; Category: all"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="do">## create chart based on search interest over time</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>gt_results<span class="sc">$</span>interest_over_time <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>date, <span class="at">y=</span>hits, <span class="at">color=</span>keyword))<span class="sc">+</span><span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span>chart_title, <span class="at">subtitle=</span>sub_title, <span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/search-interest-over-time-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="related-topics" class="level3">
<h3 class="anchored" data-anchor-id="related-topics">Related Topics</h3>
<p>The ‘related_topics’ data frame holds data on queries related to the main search term (‘cryptocurrency’ in this case).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(gt_results<span class="sc">$</span>related_topics)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   32 obs. of  5 variables:
 $ subject       : chr  "100" "58" "58" "40" ...
 $ related_topics: chr  "top" "top" "top" "top" ...
 $ value         : chr  "Bitcoin" "Cryptocurrency exchange" "Investment" "Currency" ...
 $ keyword       : chr  "cryptocurrency" "cryptocurrency" "cryptocurrency" "cryptocurrency" ...
 $ category      : int  0 0 0 0 0 0 0 0 0 0 ...
 - attr(*, "reshapeLong")=List of 4
  ..$ varying:List of 1
  .. ..$ value: chr "top"
  .. ..- attr(*, "v.names")= chr "value"
  .. ..- attr(*, "times")= chr "top"
  ..$ v.names: chr "value"
  ..$ idvar  : chr "id"
  ..$ timevar: chr "related_topics"</code></pre>
</div>
</div>
<ul>
<li><strong>subject</strong>: relative value to main search term</li>
<li><strong>related_topics</strong>: contains ‘top’ topics and ‘rising’ topics</li>
<li><strong>value</strong>: related topic</li>
<li><strong>keyword</strong>: main search term</li>
<li><strong>category</strong>: search term category, if applicable</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>  chart_title <span class="ot">&lt;-</span> <span class="st">"crytopcurrency: related topics"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## </span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  top <span class="ot">&lt;-</span> gt_results<span class="sc">$</span>related_topics <span class="sc">%&gt;%</span> <span class="fu">filter</span>(related_topics<span class="sc">==</span><span class="st">'top'</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(subject) <span class="sc">&amp;</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>                                                subject<span class="sc">!=</span><span class="st">'&lt;1'</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## convert value to factor and subject to numeric</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  top<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(top<span class="sc">$</span>value)</span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  top<span class="sc">$</span>subject <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(top<span class="sc">$</span>subject)</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## PLOT related topics</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  top <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(value, subject), <span class="at">y=</span>subject))<span class="sc">+</span><span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">expand=</span><span class="fu">expansion</span>(<span class="at">add=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>)))<span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title=</span>chart_title, <span class="at">y=</span><span class="st">''</span>, <span class="at">x=</span><span class="st">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/related-topics-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="related-queries" class="level3">
<h3 class="anchored" data-anchor-id="related-queries">Related Queries</h3>
<p>Related Queries module has similar structure to Related Topics:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(gt_results<span class="sc">$</span>related_queries)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   50 obs. of  5 variables:
 $ subject        : chr  "100" "74" "69" "67" ...
 $ related_queries: chr  "top" "top" "top" "top" ...
 $ value          : chr  "crypto" "cryptocurrency price" "what is cryptocurrency" "bitcoin cryptocurrency" ...
 $ keyword        : chr  "cryptocurrency" "cryptocurrency" "cryptocurrency" "cryptocurrency" ...
 $ category       : int  0 0 0 0 0 0 0 0 0 0 ...
 - attr(*, "reshapeLong")=List of 4
  ..$ varying:List of 1
  .. ..$ value: chr "top"
  .. ..- attr(*, "v.names")= chr "value"
  .. ..- attr(*, "times")= chr "top"
  ..$ v.names: chr "value"
  ..$ idvar  : chr "id"
  ..$ timevar: chr "related_queries"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>  chart_title <span class="ot">&lt;-</span> <span class="st">"crytopcurrency: related queries"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>  <span class="do">## </span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>  top <span class="ot">&lt;-</span> gt_results<span class="sc">$</span>related_queries <span class="sc">%&gt;%</span> <span class="fu">filter</span>(related_queries<span class="sc">==</span><span class="st">'top'</span> <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(subject) <span class="sc">&amp;</span></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>                                                subject<span class="sc">!=</span><span class="st">'&lt;1'</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>  <span class="do">## convert value to factor and subject to numeric</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  top<span class="sc">$</span>value <span class="ot">&lt;-</span> <span class="fu">as.factor</span>(top<span class="sc">$</span>value)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  top<span class="sc">$</span>subject <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(top<span class="sc">$</span>subject)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="do">## PLOT related topics</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  top <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span><span class="fu">reorder</span>(value, subject), <span class="at">y=</span>subject))<span class="sc">+</span><span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>()<span class="sc">+</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">scale_y_continuous</span>(<span class="at">expand=</span><span class="fu">expansion</span>(<span class="at">add=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">10</span>)))<span class="sc">+</span></span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">labs</span>(<span class="at">title=</span>chart_title, <span class="at">y=</span><span class="st">''</span>, <span class="at">x=</span><span class="st">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/related-queries-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<p>You can see right there the possibilities for content marketing: if you’re a crypto currency blogger, for example, you may want to write about how to identify the ‘best cryptocurrency’, etc.</p>
</section>
</section>
<section id="multi-term-query" class="level2">
<h2 class="anchored" data-anchor-id="multi-term-query">Multi-Term Query</h2>
<p>The same approach used to query for single terms can be extended to multiple terms. The example below shows how to load up a collection of terms, as well as leveraging other variables for the query.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="do">## create list of multiple search terms</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>srch_term <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"cryptocurrency"</span>,</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>               <span class="st">"bitcoin"</span>,</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>               <span class="st">"ethereum"</span>,</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>               <span class="st">"stock market"</span>,</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>               <span class="st">"real estate"</span>)</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>period <span class="ot">&lt;-</span> <span class="st">"today 12-m"</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>ctry <span class="ot">&lt;-</span> <span class="st">""</span> <span class="do">## blank = world; based on world countries ISO code</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>prop <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"web"</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>cat <span class="ot">&lt;-</span> <span class="dv">0</span> <span class="do">## 0 = all categories</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a><span class="do">## user-friendly versions of parameters for use in chart titles or other query descriptions</span></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>ctry_ <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(ctry<span class="sc">==</span><span class="st">""</span>,<span class="st">"world"</span>,ctry)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>prop_ <span class="ot">&lt;-</span> <span class="fu">paste0</span>(prop, <span class="at">collapse=</span><span class="st">", "</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>cat_ <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(cat<span class="sc">==</span><span class="dv">0</span>,<span class="st">"all"</span>,cat)</span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a><span class="do">## use gtrendsR to call google trends API</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a><span class="co"># works: c("cryptocurrency","bitcoin","ethereum","stock market","real estate")</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>gt_results_multi <span class="ot">&lt;-</span> <span class="fu">gtrends</span>(<span class="at">keyword=</span>srch_term,</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">geo=</span>ctry,</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">time=</span>period,</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">gprop=</span>prop,</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">category=</span>cat)</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a><span class="do">## confirm keywords</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="co">#table(gt_results$interest_over_time$keyword)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The gt_results object returned is the same as with single query, just has more values for the ‘keyword’ variable in each data frame.</p>
<section id="interest-over-time-1" class="level3">
<h3 class="anchored" data-anchor-id="interest-over-time-1">Interest over time</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>chart_title <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Search trends: "</span>, <span class="fu">paste</span>(srch_term[<span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>], <span class="at">collapse=</span><span class="st">", "</span>), <span class="st">" +"</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>sub_title <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"Period: "</span>, period, <span class="st">"; Geo: "</span>, ctry_, <span class="st">"; Prop: "</span>, prop_, <span class="st">"; Category: "</span>, cat_)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="do">## create chart based on search interest over time</span></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>multi <span class="ot">&lt;-</span> gt_results_multi<span class="sc">$</span>interest_over_time <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hits<span class="sc">!=</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>date, <span class="at">y=</span>hits, <span class="at">color=</span>keyword))<span class="sc">+</span><span class="fu">geom_line</span>()<span class="sc">+</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="at">expand=</span><span class="fu">expansion</span>(<span class="at">add=</span><span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">0</span>)))<span class="sc">+</span></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span>chart_title, <span class="at">subtitle=</span>sub_title, <span class="at">x=</span><span class="st">""</span>, <span class="at">y=</span><span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">"top"</span>)</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplotly</span>(multi)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-7073f0f35cd832459a99" style="width:100%;height:325px;"></div>
<script type="application/json" data-for="htmlwidget-7073f0f35cd832459a99">{"x":{"data":[{"x":[1650153600,1650758400,1651363200,1651968000,1652572800,1653177600,1653782400,1654387200,1654992000,1655596800,1656201600,1656806400,1657411200,1658016000,1658620800,1659225600,1659830400,1660435200,1661040000,1661644800,1662249600,1662854400,1663459200,1664064000,1664668800,1665273600,1665878400,1666483200,1667088000,1667692800,1668297600,1668902400,1669507200,1670112000,1670716800,1671321600,1671926400,1672531200,1673136000,1673740800,1674345600,1674950400,1675555200,1676160000,1676764800,1677369600,1677974400,1678579200,1679184000,1679788800,1680393600,1680998400],"y":[34,36,36,84,53,46,39,37,100,76,55,51,44,46,39,37,35,33,32,32,32,32,34,31,28,27,25,27,27,48,45,34,30,28,29,27,27,28,31,35,33,32,28,31,29,27,28,40,41,34,32,35],"text":["date: 2022-04-17<br />hits:  34<br />keyword: bitcoin","date: 2022-04-24<br />hits:  36<br />keyword: bitcoin","date: 2022-05-01<br />hits:  36<br />keyword: bitcoin","date: 2022-05-08<br />hits:  84<br />keyword: bitcoin","date: 2022-05-15<br />hits:  53<br />keyword: bitcoin","date: 2022-05-22<br />hits:  46<br />keyword: bitcoin","date: 2022-05-29<br />hits:  39<br />keyword: bitcoin","date: 2022-06-05<br />hits:  37<br />keyword: bitcoin","date: 2022-06-12<br />hits: 100<br />keyword: bitcoin","date: 2022-06-19<br />hits:  76<br />keyword: bitcoin","date: 2022-06-26<br />hits:  55<br />keyword: bitcoin","date: 2022-07-03<br />hits:  51<br />keyword: bitcoin","date: 2022-07-10<br />hits:  44<br />keyword: bitcoin","date: 2022-07-17<br />hits:  46<br />keyword: bitcoin","date: 2022-07-24<br />hits:  39<br />keyword: bitcoin","date: 2022-07-31<br />hits:  37<br />keyword: bitcoin","date: 2022-08-07<br />hits:  35<br />keyword: bitcoin","date: 2022-08-14<br />hits:  33<br />keyword: bitcoin","date: 2022-08-21<br />hits:  32<br />keyword: bitcoin","date: 2022-08-28<br />hits:  32<br />keyword: bitcoin","date: 2022-09-04<br />hits:  32<br />keyword: bitcoin","date: 2022-09-11<br />hits:  32<br />keyword: bitcoin","date: 2022-09-18<br />hits:  34<br />keyword: bitcoin","date: 2022-09-25<br />hits:  31<br />keyword: bitcoin","date: 2022-10-02<br />hits:  28<br />keyword: bitcoin","date: 2022-10-09<br />hits:  27<br />keyword: bitcoin","date: 2022-10-16<br />hits:  25<br />keyword: bitcoin","date: 2022-10-23<br />hits:  27<br />keyword: bitcoin","date: 2022-10-30<br />hits:  27<br />keyword: bitcoin","date: 2022-11-06<br />hits:  48<br />keyword: bitcoin","date: 2022-11-13<br />hits:  45<br />keyword: bitcoin","date: 2022-11-20<br />hits:  34<br />keyword: bitcoin","date: 2022-11-27<br />hits:  30<br />keyword: bitcoin","date: 2022-12-04<br />hits:  28<br />keyword: bitcoin","date: 2022-12-11<br />hits:  29<br />keyword: bitcoin","date: 2022-12-18<br />hits:  27<br />keyword: bitcoin","date: 2022-12-25<br />hits:  27<br />keyword: bitcoin","date: 2023-01-01<br />hits:  28<br />keyword: bitcoin","date: 2023-01-08<br />hits:  31<br />keyword: bitcoin","date: 2023-01-15<br />hits:  35<br />keyword: bitcoin","date: 2023-01-22<br />hits:  33<br />keyword: bitcoin","date: 2023-01-29<br />hits:  32<br />keyword: bitcoin","date: 2023-02-05<br />hits:  28<br />keyword: bitcoin","date: 2023-02-12<br />hits:  31<br />keyword: bitcoin","date: 2023-02-19<br />hits:  29<br />keyword: bitcoin","date: 2023-02-26<br />hits:  27<br />keyword: bitcoin","date: 2023-03-05<br />hits:  28<br />keyword: bitcoin","date: 2023-03-12<br />hits:  40<br />keyword: bitcoin","date: 2023-03-19<br />hits:  41<br />keyword: bitcoin","date: 2023-03-26<br />hits:  34<br />keyword: bitcoin","date: 2023-04-02<br />hits:  32<br />keyword: bitcoin","date: 2023-04-09<br />hits:  35<br />keyword: bitcoin"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(248,118,109,1)","dash":"solid"},"hoveron":"points","name":"bitcoin","legendgroup":"bitcoin","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1650153600,1650758400,1651363200,1651968000,1652572800,1653177600,1653782400,1654387200,1654992000,1655596800,1656201600,1656806400,1657411200,1658016000,1658620800,1659225600,1659830400,1660435200,1661040000,1661644800,1662249600,1662854400,1663459200,1664064000,1664668800,1665273600,1665878400,1666483200,1667088000,1667692800,1668297600,1668902400,1669507200,1670112000,1670716800,1671321600,1671926400,1672531200,1673136000,1673740800,1674345600,1674950400,1675555200,1676160000,1676764800,1677369600,1677974400,1678579200,1679184000,1679788800,1680393600,1680998400],"y":[4,3,3,6,4,4,3,3,4,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],"text":["date: 2022-04-17<br />hits:   4<br />keyword: cryptocurrency","date: 2022-04-24<br />hits:   3<br />keyword: cryptocurrency","date: 2022-05-01<br />hits:   3<br />keyword: cryptocurrency","date: 2022-05-08<br />hits:   6<br />keyword: cryptocurrency","date: 2022-05-15<br />hits:   4<br />keyword: cryptocurrency","date: 2022-05-22<br />hits:   4<br />keyword: cryptocurrency","date: 2022-05-29<br />hits:   3<br />keyword: cryptocurrency","date: 2022-06-05<br />hits:   3<br />keyword: cryptocurrency","date: 2022-06-12<br />hits:   4<br />keyword: cryptocurrency","date: 2022-06-19<br />hits:   3<br />keyword: cryptocurrency","date: 2022-06-26<br />hits:   3<br />keyword: cryptocurrency","date: 2022-07-03<br />hits:   2<br />keyword: cryptocurrency","date: 2022-07-10<br />hits:   2<br />keyword: cryptocurrency","date: 2022-07-17<br />hits:   2<br />keyword: cryptocurrency","date: 2022-07-24<br />hits:   2<br />keyword: cryptocurrency","date: 2022-07-31<br />hits:   2<br />keyword: cryptocurrency","date: 2022-08-07<br />hits:   2<br />keyword: cryptocurrency","date: 2022-08-14<br />hits:   2<br />keyword: cryptocurrency","date: 2022-08-21<br />hits:   2<br />keyword: cryptocurrency","date: 2022-08-28<br />hits:   2<br />keyword: cryptocurrency","date: 2022-09-04<br />hits:   2<br />keyword: cryptocurrency","date: 2022-09-11<br />hits:   2<br />keyword: cryptocurrency","date: 2022-09-18<br />hits:   2<br />keyword: cryptocurrency","date: 2022-09-25<br />hits:   2<br />keyword: cryptocurrency","date: 2022-10-02<br />hits:   2<br />keyword: cryptocurrency","date: 2022-10-09<br />hits:   2<br />keyword: cryptocurrency","date: 2022-10-16<br />hits:   2<br />keyword: cryptocurrency","date: 2022-10-23<br />hits:   2<br />keyword: cryptocurrency","date: 2022-10-30<br />hits:   2<br />keyword: cryptocurrency","date: 2022-11-06<br />hits:   3<br />keyword: cryptocurrency","date: 2022-11-13<br />hits:   3<br />keyword: cryptocurrency","date: 2022-11-20<br />hits:   2<br />keyword: cryptocurrency","date: 2022-11-27<br />hits:   2<br />keyword: cryptocurrency","date: 2022-12-04<br />hits:   2<br />keyword: cryptocurrency","date: 2022-12-11<br />hits:   2<br />keyword: cryptocurrency","date: 2022-12-18<br />hits:   2<br />keyword: cryptocurrency","date: 2022-12-25<br />hits:   2<br />keyword: cryptocurrency","date: 2023-01-01<br />hits:   2<br />keyword: cryptocurrency","date: 2023-01-08<br />hits:   2<br />keyword: cryptocurrency","date: 2023-01-15<br />hits:   2<br />keyword: cryptocurrency","date: 2023-01-22<br />hits:   2<br />keyword: cryptocurrency","date: 2023-01-29<br />hits:   2<br />keyword: cryptocurrency","date: 2023-02-05<br />hits:   2<br />keyword: cryptocurrency","date: 2023-02-12<br />hits:   2<br />keyword: cryptocurrency","date: 2023-02-19<br />hits:   2<br />keyword: cryptocurrency","date: 2023-02-26<br />hits:   2<br />keyword: cryptocurrency","date: 2023-03-05<br />hits:   2<br />keyword: cryptocurrency","date: 2023-03-12<br />hits:   2<br />keyword: cryptocurrency","date: 2023-03-19<br />hits:   2<br />keyword: cryptocurrency","date: 2023-03-26<br />hits:   2<br />keyword: cryptocurrency","date: 2023-04-02<br />hits:   2<br />keyword: cryptocurrency","date: 2023-04-09<br />hits:   2<br />keyword: cryptocurrency"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(163,165,0,1)","dash":"solid"},"hoveron":"points","name":"cryptocurrency","legendgroup":"cryptocurrency","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1650153600,1650758400,1651363200,1651968000,1652572800,1653177600,1653782400,1654387200,1654992000,1655596800,1656201600,1656806400,1657411200,1658016000,1658620800,1659225600,1659830400,1660435200,1661040000,1661644800,1662249600,1662854400,1663459200,1664064000,1664668800,1665273600,1665878400,1666483200,1667088000,1667692800,1668297600,1668902400,1669507200,1670112000,1670716800,1671321600,1671926400,1672531200,1673136000,1673740800,1674345600,1674950400,1675555200,1676160000,1676764800,1677369600,1677974400,1678579200,1679184000,1679788800,1680393600,1680998400],"y":[8,8,7,13,9,8,8,8,18,12,9,8,8,11,9,9,10,9,8,8,8,16,10,7,6,5,5,6,6,9,7,6,5,4,5,5,4,4,5,7,5,5,5,5,5,4,4,6,6,5,5,7],"text":["date: 2022-04-17<br />hits:   8<br />keyword: ethereum","date: 2022-04-24<br />hits:   8<br />keyword: ethereum","date: 2022-05-01<br />hits:   7<br />keyword: ethereum","date: 2022-05-08<br />hits:  13<br />keyword: ethereum","date: 2022-05-15<br />hits:   9<br />keyword: ethereum","date: 2022-05-22<br />hits:   8<br />keyword: ethereum","date: 2022-05-29<br />hits:   8<br />keyword: ethereum","date: 2022-06-05<br />hits:   8<br />keyword: ethereum","date: 2022-06-12<br />hits:  18<br />keyword: ethereum","date: 2022-06-19<br />hits:  12<br />keyword: ethereum","date: 2022-06-26<br />hits:   9<br />keyword: ethereum","date: 2022-07-03<br />hits:   8<br />keyword: ethereum","date: 2022-07-10<br />hits:   8<br />keyword: ethereum","date: 2022-07-17<br />hits:  11<br />keyword: ethereum","date: 2022-07-24<br />hits:   9<br />keyword: ethereum","date: 2022-07-31<br />hits:   9<br />keyword: ethereum","date: 2022-08-07<br />hits:  10<br />keyword: ethereum","date: 2022-08-14<br />hits:   9<br />keyword: ethereum","date: 2022-08-21<br />hits:   8<br />keyword: ethereum","date: 2022-08-28<br />hits:   8<br />keyword: ethereum","date: 2022-09-04<br />hits:   8<br />keyword: ethereum","date: 2022-09-11<br />hits:  16<br />keyword: ethereum","date: 2022-09-18<br />hits:  10<br />keyword: ethereum","date: 2022-09-25<br />hits:   7<br />keyword: ethereum","date: 2022-10-02<br />hits:   6<br />keyword: ethereum","date: 2022-10-09<br />hits:   5<br />keyword: ethereum","date: 2022-10-16<br />hits:   5<br />keyword: ethereum","date: 2022-10-23<br />hits:   6<br />keyword: ethereum","date: 2022-10-30<br />hits:   6<br />keyword: ethereum","date: 2022-11-06<br />hits:   9<br />keyword: ethereum","date: 2022-11-13<br />hits:   7<br />keyword: ethereum","date: 2022-11-20<br />hits:   6<br />keyword: ethereum","date: 2022-11-27<br />hits:   5<br />keyword: ethereum","date: 2022-12-04<br />hits:   4<br />keyword: ethereum","date: 2022-12-11<br />hits:   5<br />keyword: ethereum","date: 2022-12-18<br />hits:   5<br />keyword: ethereum","date: 2022-12-25<br />hits:   4<br />keyword: ethereum","date: 2023-01-01<br />hits:   4<br />keyword: ethereum","date: 2023-01-08<br />hits:   5<br />keyword: ethereum","date: 2023-01-15<br />hits:   7<br />keyword: ethereum","date: 2023-01-22<br />hits:   5<br />keyword: ethereum","date: 2023-01-29<br />hits:   5<br />keyword: ethereum","date: 2023-02-05<br />hits:   5<br />keyword: ethereum","date: 2023-02-12<br />hits:   5<br />keyword: ethereum","date: 2023-02-19<br />hits:   5<br />keyword: ethereum","date: 2023-02-26<br />hits:   4<br />keyword: ethereum","date: 2023-03-05<br />hits:   4<br />keyword: ethereum","date: 2023-03-12<br />hits:   6<br />keyword: ethereum","date: 2023-03-19<br />hits:   6<br />keyword: ethereum","date: 2023-03-26<br />hits:   5<br />keyword: ethereum","date: 2023-04-02<br />hits:   5<br />keyword: ethereum","date: 2023-04-09<br />hits:   7<br />keyword: ethereum"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,191,125,1)","dash":"solid"},"hoveron":"points","name":"ethereum","legendgroup":"ethereum","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1650153600,1650758400,1651363200,1651968000,1652572800,1653177600,1653782400,1654387200,1654992000,1655596800,1656201600,1656806400,1657411200,1658016000,1658620800,1659225600,1659830400,1660435200,1661040000,1661644800,1662249600,1662854400,1663459200,1664064000,1664668800,1665273600,1665878400,1666483200,1667088000,1667692800,1668297600,1668902400,1669507200,1670112000,1670716800,1671321600,1671926400,1672531200,1673136000,1673740800,1674345600,1674950400,1675555200,1676160000,1676764800,1677369600,1677974400,1678579200,1679184000,1679788800,1680393600,1680998400],"y":[29,31,29,27,27,27,26,27,27,25,27,27,27,27,29,29,28,28,28,27,26,27,26,24,24,24,23,24,25,23,23,20,22,23,21,19,21,25,25,25,25,25,24,25,27,25,24,24,26,26,24,26],"text":["date: 2022-04-17<br />hits:  29<br />keyword: real estate","date: 2022-04-24<br />hits:  31<br />keyword: real estate","date: 2022-05-01<br />hits:  29<br />keyword: real estate","date: 2022-05-08<br />hits:  27<br />keyword: real estate","date: 2022-05-15<br />hits:  27<br />keyword: real estate","date: 2022-05-22<br />hits:  27<br />keyword: real estate","date: 2022-05-29<br />hits:  26<br />keyword: real estate","date: 2022-06-05<br />hits:  27<br />keyword: real estate","date: 2022-06-12<br />hits:  27<br />keyword: real estate","date: 2022-06-19<br />hits:  25<br />keyword: real estate","date: 2022-06-26<br />hits:  27<br />keyword: real estate","date: 2022-07-03<br />hits:  27<br />keyword: real estate","date: 2022-07-10<br />hits:  27<br />keyword: real estate","date: 2022-07-17<br />hits:  27<br />keyword: real estate","date: 2022-07-24<br />hits:  29<br />keyword: real estate","date: 2022-07-31<br />hits:  29<br />keyword: real estate","date: 2022-08-07<br />hits:  28<br />keyword: real estate","date: 2022-08-14<br />hits:  28<br />keyword: real estate","date: 2022-08-21<br />hits:  28<br />keyword: real estate","date: 2022-08-28<br />hits:  27<br />keyword: real estate","date: 2022-09-04<br />hits:  26<br />keyword: real estate","date: 2022-09-11<br />hits:  27<br />keyword: real estate","date: 2022-09-18<br />hits:  26<br />keyword: real estate","date: 2022-09-25<br />hits:  24<br />keyword: real estate","date: 2022-10-02<br />hits:  24<br />keyword: real estate","date: 2022-10-09<br />hits:  24<br />keyword: real estate","date: 2022-10-16<br />hits:  23<br />keyword: real estate","date: 2022-10-23<br />hits:  24<br />keyword: real estate","date: 2022-10-30<br />hits:  25<br />keyword: real estate","date: 2022-11-06<br />hits:  23<br />keyword: real estate","date: 2022-11-13<br />hits:  23<br />keyword: real estate","date: 2022-11-20<br />hits:  20<br />keyword: real estate","date: 2022-11-27<br />hits:  22<br />keyword: real estate","date: 2022-12-04<br />hits:  23<br />keyword: real estate","date: 2022-12-11<br />hits:  21<br />keyword: real estate","date: 2022-12-18<br />hits:  19<br />keyword: real estate","date: 2022-12-25<br />hits:  21<br />keyword: real estate","date: 2023-01-01<br />hits:  25<br />keyword: real estate","date: 2023-01-08<br />hits:  25<br />keyword: real estate","date: 2023-01-15<br />hits:  25<br />keyword: real estate","date: 2023-01-22<br />hits:  25<br />keyword: real estate","date: 2023-01-29<br />hits:  25<br />keyword: real estate","date: 2023-02-05<br />hits:  24<br />keyword: real estate","date: 2023-02-12<br />hits:  25<br />keyword: real estate","date: 2023-02-19<br />hits:  27<br />keyword: real estate","date: 2023-02-26<br />hits:  25<br />keyword: real estate","date: 2023-03-05<br />hits:  24<br />keyword: real estate","date: 2023-03-12<br />hits:  24<br />keyword: real estate","date: 2023-03-19<br />hits:  26<br />keyword: real estate","date: 2023-03-26<br />hits:  26<br />keyword: real estate","date: 2023-04-02<br />hits:  24<br />keyword: real estate","date: 2023-04-09<br />hits:  26<br />keyword: real estate"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(0,176,246,1)","dash":"solid"},"hoveron":"points","name":"real estate","legendgroup":"real estate","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"x":[1650153600,1650758400,1651363200,1651968000,1652572800,1653177600,1653782400,1654387200,1654992000,1655596800,1656201600,1656806400,1657411200,1658016000,1658620800,1659225600,1659830400,1660435200,1661040000,1661644800,1662249600,1662854400,1663459200,1664064000,1664668800,1665273600,1665878400,1666483200,1667088000,1667692800,1668297600,1668902400,1669507200,1670112000,1670716800,1671321600,1671926400,1672531200,1673136000,1673740800,1674345600,1674950400,1675555200,1676160000,1676764800,1677369600,1677974400,1678579200,1679184000,1679788800,1680393600,1680998400],"y":[9,11,12,15,12,9,8,9,14,11,8,7,7,7,8,8,8,8,8,8,7,10,9,10,9,9,8,9,8,10,8,7,7,7,7,8,9,8,7,8,7,8,7,7,8,7,8,10,9,7,9,8],"text":["date: 2022-04-17<br />hits:   9<br />keyword: stock market","date: 2022-04-24<br />hits:  11<br />keyword: stock market","date: 2022-05-01<br />hits:  12<br />keyword: stock market","date: 2022-05-08<br />hits:  15<br />keyword: stock market","date: 2022-05-15<br />hits:  12<br />keyword: stock market","date: 2022-05-22<br />hits:   9<br />keyword: stock market","date: 2022-05-29<br />hits:   8<br />keyword: stock market","date: 2022-06-05<br />hits:   9<br />keyword: stock market","date: 2022-06-12<br />hits:  14<br />keyword: stock market","date: 2022-06-19<br />hits:  11<br />keyword: stock market","date: 2022-06-26<br />hits:   8<br />keyword: stock market","date: 2022-07-03<br />hits:   7<br />keyword: stock market","date: 2022-07-10<br />hits:   7<br />keyword: stock market","date: 2022-07-17<br />hits:   7<br />keyword: stock market","date: 2022-07-24<br />hits:   8<br />keyword: stock market","date: 2022-07-31<br />hits:   8<br />keyword: stock market","date: 2022-08-07<br />hits:   8<br />keyword: stock market","date: 2022-08-14<br />hits:   8<br />keyword: stock market","date: 2022-08-21<br />hits:   8<br />keyword: stock market","date: 2022-08-28<br />hits:   8<br />keyword: stock market","date: 2022-09-04<br />hits:   7<br />keyword: stock market","date: 2022-09-11<br />hits:  10<br />keyword: stock market","date: 2022-09-18<br />hits:   9<br />keyword: stock market","date: 2022-09-25<br />hits:  10<br />keyword: stock market","date: 2022-10-02<br />hits:   9<br />keyword: stock market","date: 2022-10-09<br />hits:   9<br />keyword: stock market","date: 2022-10-16<br />hits:   8<br />keyword: stock market","date: 2022-10-23<br />hits:   9<br />keyword: stock market","date: 2022-10-30<br />hits:   8<br />keyword: stock market","date: 2022-11-06<br />hits:  10<br />keyword: stock market","date: 2022-11-13<br />hits:   8<br />keyword: stock market","date: 2022-11-20<br />hits:   7<br />keyword: stock market","date: 2022-11-27<br />hits:   7<br />keyword: stock market","date: 2022-12-04<br />hits:   7<br />keyword: stock market","date: 2022-12-11<br />hits:   7<br />keyword: stock market","date: 2022-12-18<br />hits:   8<br />keyword: stock market","date: 2022-12-25<br />hits:   9<br />keyword: stock market","date: 2023-01-01<br />hits:   8<br />keyword: stock market","date: 2023-01-08<br />hits:   7<br />keyword: stock market","date: 2023-01-15<br />hits:   8<br />keyword: stock market","date: 2023-01-22<br />hits:   7<br />keyword: stock market","date: 2023-01-29<br />hits:   8<br />keyword: stock market","date: 2023-02-05<br />hits:   7<br />keyword: stock market","date: 2023-02-12<br />hits:   7<br />keyword: stock market","date: 2023-02-19<br />hits:   8<br />keyword: stock market","date: 2023-02-26<br />hits:   7<br />keyword: stock market","date: 2023-03-05<br />hits:   8<br />keyword: stock market","date: 2023-03-12<br />hits:  10<br />keyword: stock market","date: 2023-03-19<br />hits:   9<br />keyword: stock market","date: 2023-03-26<br />hits:   7<br />keyword: stock market","date: 2023-04-02<br />hits:   9<br />keyword: stock market","date: 2023-04-09<br />hits:   8<br />keyword: stock market"],"type":"scatter","mode":"lines","line":{"width":1.88976377952756,"color":"rgba(231,107,243,1)","dash":"solid"},"hoveron":"points","name":"stock market","legendgroup":"stock market","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":48.1461187214612,"r":7.30593607305936,"b":29.9543378995434,"l":28.4931506849315},"font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187},"title":{"text":"Search trends: cryptocurrency, bitcoin +","font":{"color":"rgba(0,0,0,1)","family":"","size":17.5342465753425},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[1648611360,1682540640],"tickmode":"array","ticktext":["Apr 2022","Jul 2022","Oct 2022","Jan 2023","Apr 2023"],"tickvals":[1648771200,1656633600,1664582400,1672531200,1680307200],"categoryorder":"array","categoryarray":["Apr 2022","Jul 2022","Oct 2022","Jan 2023","Apr 2023"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"y","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[2,100],"tickmode":"array","ticktext":["25","50","75","100"],"tickvals":[25,50,75,100],"categoryorder":"array","categoryarray":["25","50","75","100"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.65296803652968,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"","size":11.689497716895},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176,"zeroline":false,"anchor":"x","title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"","size":11.689497716895},"title":{"text":"keyword","font":{"color":"rgba(0,0,0,1)","family":"","size":14.6118721461187}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"ba5263807b14":{"x":{},"y":{},"colour":{},"type":"scatter"}},"cur_data":"ba5263807b14","visdat":{"ba5263807b14":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Period: today 12-m (2023-04-16); Geo: world; Prop: web; Category: all</p>
</div>
</div>
<p>Very similar results to chart shown at the top. Average search index for these keywords over this period also the same as shown in Google Trends interface.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>gt_results_multi<span class="sc">$</span>interest_over_time <span class="sc">%&gt;%</span> <span class="fu">filter</span>(hits<span class="sc">!=</span><span class="dv">0</span>) <span class="sc">%&gt;%</span> <span class="fu">group_by</span>(keyword) <span class="sc">%&gt;%</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">avg=</span><span class="fu">round</span>(<span class="fu">mean</span>(hits))) <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x=</span>keyword, <span class="at">y=</span>avg, <span class="at">label=</span>avg, <span class="at">fill=</span>keyword))<span class="sc">+</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>()<span class="sc">+</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="co">#geom_col(fill='navyblue')+</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">size=</span><span class="dv">6</span>, <span class="at">nudge_y =</span> <span class="dv">3</span>)<span class="sc">+</span></span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title=</span><span class="st">"Average Search by Keyword"</span>, <span class="at">x=</span><span class="st">""</span>,<span class="at">y=</span><span class="st">""</span>)<span class="sc">+</span></span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">size=</span><span class="dv">12</span>),</span>
<span id="cb14-11"><a href="#cb14-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb14-12"><a href="#cb14-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position =</span> <span class="st">"none"</span></span>
<span id="cb14-13"><a href="#cb14-13" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="index_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid figure-img" width="864"></p>
</figure>
</div>
</div>
</div>
<p>As noted, there is the same limitation as the interface of <em>maximum five terms</em> at a time. Of course, one of the beauties of doing thing programmatically is that provides opportunities for combining queries to go beyond five. For that, you need to make sure there is a common term in each queries to calculate the relative values. This is a topic for another blog post.</p>
</section>
</section>
<section id="search-terms-vs-search-topics" class="level2">
<h2 class="anchored" data-anchor-id="search-terms-vs-search-topics">Search Terms vs Search ‘Topics’</h2>
<p>Tip #3 in <a href="https://blog.google/products/search/15-tips-getting-most-out-google-trends/">“15 Tips for Getting the Most Out of Google Trends”</a> mentions the importance of <strong>choosing search ‘topics’ when available</strong> for a given search term.</p>
<p>Using a topic version of the term has benefits, but also complications for programmatic access:</p>
<ul>
<li>you need to go to Google Trends to check if a topic is available (it may also be called something different than ‘topic’, like ‘currency’ for the term ‘Bitcoin’).</li>
<li>the topic term is an indecipherable code, as circled in the URL in the browser bar above.</li>
<li>comparisons may be skewed if mixing terms and topics.</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/google-trends-search-type-example-full.png" class="img-fluid figure-img"></p>
<figcaption>Google Trends search type example - full</figcaption>
</figure>
</div>


</section>

</main> <!-- /main -->

<div class="custom-footer" style="text-align: center; padding: 1rem 0; font-size: 0.9em;">
  <hr>
  <p>© 2025 <a href="https://catbird-analytics.com">Catbird Analytics</a> • Built with <a href="https://quarto.org">Quarto</a></p>
</div>


<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">

<div class="cookie-consent-footer"><a href="#" id="open_preferences_center">Cookie Preferences</a></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>