{
  "hash": "e4a946978877e36b0bdde26db70f80bb",
  "result": {
    "markdown": "---\ntitle: \"BC Liquor Sales Analysis: Annual Trends 2016-2022\"\nauthor: John Yuill\ndate: '2023-11-05'\ncategories: [liquor stats, reporting, analysis, R]\ndescription-meta: Exploration and analysis of BC Liquor Market Review data covering the years 2016 to 2023, with trends and observations.\ndraft: false\nimage: bc-lmr-yoy-vol-chg.png\ntoc: true\ntoc-depth: 4\ntoc-location: left\ndate-modified: '2023-11-13'\nfig-height: 3\nfig-width: 4\nfig-align: center\ncode-fold: true\nexecute:\n  echo: true\n  error: false\n  warning: false\n---\n\n::: {.cell}\n\n:::\n\n::: {.cell}\n\n:::\n\n\n**British Columbia Liquor Distribution Board** releases its '[**Liquor Market Review**](https://www.bcldb.com/publications/liquor-market-review)' on a quarterly basis, covering dollar and litre sales across major alcoholic beverage types of **beer**, **wine**, **spirits**, and **'refreshment beverages'** (ciders, coolers).\n\nThis is a combined look using reports going back to 2015, when the current format was started.\n\n**Note:** *my expertise is in data analysis, not the liquor industry, so the emphasis is on exploring what the data can tell us. Industry-insider context may be lacking. In the interest of promoting data analysis, I am sharing most of the R code used to process the data - hence the expandable 'Code' options.*\n\n## Annual Trends: All Beverage Types\n\n(Based on calendar year, using earliest and most recent full year avail.)\n\n### \\$ Sales\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get full years for comparison\ndrop_yr <- c(2015,2023) ## drop partial yrs for simplicity\ntrend_yr <- lmr_data %>% filter(year>drop_yr[1] & year<drop_yr[2]) %>% \n  group_by(year) %>% summarize(netsales=sum(netsales),\n                              litres=sum(litres))\n\n# add % chg YoY, $/l\ntrend_yr <- trend_yr %>% mutate(\n  pc_chg_sales=netsales/lag(netsales)-1,\n  pc_chg_litres=litres/lag(litres)-1,\n  dollar_per_litre=netsales/litres,\n  pc_chg_d_per_l=dollar_per_litre/lag(dollar_per_litre)-1\n)\n```\n:::\n\n\nThere has been general upward drift in net sales dollars in recent years, rising to **\\$3.7 billion in 2022**:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"Net Sales $ Trends - All Types\"\n## assign plot definition to variable for use with plotly\nplot <- trend_yr %>% ggplot(aes(x=year, y=netsales, group=1))+\n  geom_line(color=bar_col, linewidth=2)+\n  geom_point(aes(y=netsales), color=bar_col, size=3)+\n  scale_x_continuous(breaks=trend_yr$year)+ ## ensure each value shown in x-axis\n  scale_y_continuous(labels=comma_format(prefix=\"$\", scale=1e-9,suffix=\"B\"), \n                     expand=expansion(mult=c(0,0.1)), limits=c(0,max(trend_yr$netsales)))+\n  labs(title=ch_title,y=\"\",x=\"\")+\n  theme_classic()\nggplotly(plot) ## convert to plotly for interactivity\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-7af99a7e4e4204ea6349\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7af99a7e4e4204ea6349\">{\"x\":{\"data\":[{\"x\":[2016,2017,2018,2019,2020,2021,2022],\"y\":[3030464148,3144923332,3232593505,3292373971,3485644831,3572950309,3667609002],\"text\":[\"year: 2016<br />netsales: 3030464148\",\"year: 2017<br />netsales: 3144923332\",\"year: 2018<br />netsales: 3232593505\",\"year: 2019<br />netsales: 3292373971\",\"year: 2020<br />netsales: 3485644831\",\"year: 2021<br />netsales: 3572950309\",\"year: 2022<br />netsales: 3667609002\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":7.55905511811024,\"color\":\"rgba(8,29,88,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"opacity\":1,\"size\":11.3385826771654,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(8,29,88,1)\"}},\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Net Sales $ Trends - All Types\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[2015.7,2022.3],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[2016,2017,2018,2019,2020,2021,2022],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,4034369902.2],\"tickmode\":\"array\",\"ticktext\":[\"$0B\",\"$1B\",\"$2B\",\"$3B\",\"$4B\"],\"tickvals\":[0,1000000000,2000000000,3000000000,4000000000],\"categoryorder\":\"array\",\"categoryarray\":[\"$0B\",\"$1B\",\"$2B\",\"$3B\",\"$4B\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b5c495029\":{\"x\":{},\"y\":{},\"type\":\"scatter\"},\"e55b512de314\":{\"x\":{},\"y\":{}}},\"cur_data\":\"e55b5c495029\",\"visdat\":{\"e55b5c495029\":[\"function (y) \",\"x\"],\"e55b512de314\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n#### **Year-over-Year % Change: (\\$ Sales)**\n\nThere is an **out-sized year-over-year % increase in 2020**, first year of the covid-19 pandemic:, with **growth nearing 6%**:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# chart % chg sales YoY\nch_title <- \"Net Sales: Year-over-Year % change\"\n# convert year to integer to identify first yr for filtering, since no number for % chg\nmin_yr <- min(as.integer(as.character(trend_yr$year)))\n## plot - filtered to exclude first yr\nplot <- trend_yr %>% filter(year!=min_yr) %>% \n  ggplot(aes(x=year, y=pc_chg_sales))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept=mean(trend_yr$pc_chg_sales, na.rm=TRUE), linetype='dotted')+\n  geom_hline(yintercept=median(trend_yr$pc_chg_sales, na.rm=TRUE), linetype='dotted', color='lightblue')+\n  scale_x_continuous(breaks=trend_yr$year)+\n  scale_y_continuous(labels=percent_format(), expand=expansion(mult=c(0,0.1)))+\n  labs(title=ch_title,y=\"\",x=\"\")+\n   theme(axis.ticks.x = element_blank()) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1f52b8342d98d94fb4bb\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1f52b8342d98d94fb4bb\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091,0.900000000000091],\"base\":[0,0,0,0,0,0],\"x\":[2017,2018,2019,2020,2021,2022],\"y\":[0.0377695225582981,0.0278767282203496,0.0184930353623289,0.0587025841239102,0.0250471526024505,0.0264931456677586],\"text\":[\"year: 2017<br />pc_chg_sales: 0.03776952\",\"year: 2018<br />pc_chg_sales: 0.02787673\",\"year: 2019<br />pc_chg_sales: 0.01849304\",\"year: 2020<br />pc_chg_sales: 0.05870258\",\"year: 2021<br />pc_chg_sales: 0.02504715\",\"year: 2022<br />pc_chg_sales: 0.02649315\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[2016.255,2022.745],\"y\":[0.0323970280891827,0.0323970280891827],\"text\":\"yintercept: 0.03239703\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[2016.255,2022.745],\"y\":[0.0271849369440541,0.0271849369440541],\"text\":\"yintercept: 0.02718494\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(173,216,230,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":22.648401826484},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Net Sales: Year-over-Year % change\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[2016.255,2022.745],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[2017,2018,2019,2020,2021,2022],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,0.0645728425363012],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"2%\",\"4%\",\"6%\"],\"tickvals\":[0,0.02,0.04,0.06],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"2%\",\"4%\",\"6%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b1376d234\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b5de25de7\":{\"yintercept\":{}},\"e55b388318d8\":{\"yintercept\":{}}},\"cur_data\":\"e55b1376d234\",\"visdat\":{\"e55b1376d234\":[\"function (y) \",\"x\"],\"e55b5de25de7\":[\"function (y) \",\"x\"],\"e55b388318d8\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n\n\n(black line = average, blue line = median)\n:::\n:::\n\n\nBy far the biggest YoY change was ... pandemic time! Prior to 2020, annual increases were slowing down, while total still increasing. In 2022, YoY growth has returned to pre-2020 levels, close to the median (light blue line).\n\n### Volume (Litres)\n\nSales in litres have been **essentially flat** in recent years, averaging **457 million litres** per year:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"Litre Volume Trends - All Types\"\nplot <- trend_yr %>% \n  ggplot(aes(x=as.factor(year), y=litres, group=1))+\n  #geom_col(fill=bar_col)+\n  geom_line(color=bar_col, size=2)+\n  geom_point(aes(y=litres), color=bar_col, size=3)+\n  geom_hline(yintercept=mean(trend_yr$litres), linetype='dotted')+\n  scale_y_continuous(labels=comma_format(scale=1e-6,suffix=\"M\"), expand=expansion(mult=c(0,0.1)), limits=c(0,max(trend_yr$litres)))+\n  labs(title=ch_title,y=\"\",x=\"\")+\n  theme_classic() \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-d8360f58aa9e1fc24495\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-d8360f58aa9e1fc24495\">{\"x\":{\"data\":[{\"x\":[1,2,3,4,5,6,7],\"y\":[440833265,449439779,453891979,453091255,471271640,468486355,458986101],\"text\":[\"as.factor(year): 2016<br />litres: 440833265\",\"as.factor(year): 2017<br />litres: 449439779\",\"as.factor(year): 2018<br />litres: 453891979\",\"as.factor(year): 2019<br />litres: 453091255\",\"as.factor(year): 2020<br />litres: 471271640\",\"as.factor(year): 2021<br />litres: 468486355\",\"as.factor(year): 2022<br />litres: 458986101\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":7.55905511811024,\"color\":\"rgba(8,29,88,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"opacity\":1,\"size\":11.3385826771654,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(8,29,88,1)\"}},\"frame\":null},{\"x\":[0.4,7.6],\"y\":[456571482,456571482],\"text\":\"yintercept: 456571482\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":34.337899543379},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Litre Volume Trends - All Types\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,518398804],\"tickmode\":\"array\",\"ticktext\":[\"0M\",\"100M\",\"200M\",\"300M\",\"400M\",\"500M\"],\"tickvals\":[0,100000000,200000000,300000000,400000000,500000000],\"categoryorder\":\"array\",\"categoryarray\":[\"0M\",\"100M\",\"200M\",\"300M\",\"400M\",\"500M\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55bb030cec\":{\"x\":{},\"y\":{},\"type\":\"scatter\"},\"e55b75455f99\":{\"x\":{},\"y\":{}},\"e55b1d8771f5\":{\"yintercept\":{}}},\"cur_data\":\"e55bb030cec\",\"visdat\":{\"e55bb030cec\":[\"function (y) \",\"x\"],\"e55b75455f99\":[\"function (y) \",\"x\"],\"e55b1d8771f5\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nLitre volume has remained relatively steady, with a **peak during the 2020 pandemic at 470 million litres**. Volumes are slowing down, although 2022 still above 2019.\n\n#### **Year-over-Year % Change: Volume (Litres)**\n\nBiggest year-over-year jump of \\~4% in 2020, with declines accelerating from 2021 to 2022.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# chart % chg liters YoY\nch_title <- \"Litre Vol.: Year-over-Year % change\"\nplot <- trend_yr %>% filter(year!=min_yr) %>% ## filter first yr (calc above) since no value\n  ggplot(aes(x=as.factor(year), y=pc_chg_litres))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept=mean(trend_yr$pc_chg_litres, na.rm=TRUE), linetype='dotted')+\n  scale_y_continuous(labels=percent_format(), expand=expansion(mult=c(0.1,0.1)))+\n  geom_hline(yintercept=0)+\n  labs(title=ch_title,y=\"\",x=\"\")+\n   theme(axis.ticks.x = element_blank()) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-a19909c7481f87abc0af\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a19909c7481f87abc0af\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,-0.00176412899334355,0,-0.00591014770165255,-0.0202786140911191],\"x\":[1,2,3,4,5,6],\"y\":[0.0195232862020973,0.00990611024664112,0.00176412899334355,0.0401252171596205,0.00591014770165255,0.0202786140911191],\"text\":[\"as.factor(year): 2017<br />pc_chg_litres:  0.019523286\",\"as.factor(year): 2018<br />pc_chg_litres:  0.009906110\",\"as.factor(year): 2019<br />pc_chg_litres: -0.001764129\",\"as.factor(year): 2020<br />pc_chg_litres:  0.040125217\",\"as.factor(year): 2021<br />pc_chg_litres: -0.005910148\",\"as.factor(year): 2022<br />pc_chg_litres: -0.020278614\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0.00693362047037395,0.00693362047037395],\"text\":\"yintercept: 0.00693362\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Litre Vol.: Year-over-Year % change\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.026318997216193,0.0461656002846944],\"tickmode\":\"array\",\"ticktext\":[\"-2%\",\"0%\",\"2%\",\"4%\"],\"tickvals\":[-0.02,0,0.02,0.04],\"categoryorder\":\"array\",\"categoryarray\":[\"-2%\",\"0%\",\"2%\",\"4%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b6710df27\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b4aaae4e\":{\"yintercept\":{}},\"e55b61998546\":{\"yintercept\":{}}},\"cur_data\":\"e55b6710df27\",\"visdat\":{\"e55b6710df27\":[\"function (y) \",\"x\"],\"e55b4aaae4e\":[\"function (y) \",\"x\"],\"e55b61998546\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nAfter strong growth of 4% in 2020, 2022 saw by far the **largest decrease in volume consumption in 6 years**, down 2%.\n\n### \\$/Litre\n\nLooking at trends in **\\$/litre provides a proxy for 'price' and gives a sense of how overall prices have changed over time**. *(see footnote for caveats.)* No surprise: **steadily upward**, increasing with inflation:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# chart $/ltr\nch_title <- \"$/Litre Trends - All Types\"\nplot <- trend_yr %>% \n  ggplot(aes(x=as.factor(year), y=dollar_per_litre, group=1))+\n  #geom_col(fill=bar_col)+\n  geom_line(color=bar_col, size=2)+\n  geom_point(aes(y=dollar_per_litre), color=bar_col, size=3)+\n  scale_y_continuous(labels=label_comma(prefix=\"$\", accuracy=0.01), expand=expansion(mult=c(0,0.1)), limits=c(0, max(trend_yr$dollar_per_litre)))+\n  labs(title=ch_title,y=\"\",x=\"\")+\n  theme_classic()\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-7e99fc9d1190d1389a24\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7e99fc9d1190d1389a24\">{\"x\":{\"data\":[{\"x\":[1,2,3,4,5,6,7],\"y\":[6.87439988903741,6.99742986479174,7.12194454751535,7.26646991012881,7.39625416670521,7.62658350849941,7.99067552156661],\"text\":[\"as.factor(year): 2016<br />dollar_per_litre: 6.874400\",\"as.factor(year): 2017<br />dollar_per_litre: 6.997430\",\"as.factor(year): 2018<br />dollar_per_litre: 7.121945\",\"as.factor(year): 2019<br />dollar_per_litre: 7.266470\",\"as.factor(year): 2020<br />dollar_per_litre: 7.396254\",\"as.factor(year): 2021<br />dollar_per_litre: 7.626584\",\"as.factor(year): 2022<br />dollar_per_litre: 7.990676\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":7.55905511811024,\"color\":\"rgba(8,29,88,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"opacity\":1,\"size\":11.3385826771654,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(8,29,88,1)\"}},\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":40.1826484018265},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"$/Litre Trends - All Types\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,8.78974307372327],\"tickmode\":\"array\",\"ticktext\":[\"$0.00\",\"$2.00\",\"$4.00\",\"$6.00\",\"$8.00\"],\"tickvals\":[0,2,4,6,8],\"categoryorder\":\"array\",\"categoryarray\":[\"$0.00\",\"$2.00\",\"$4.00\",\"$6.00\",\"$8.00\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b1ca02f0b\":{\"x\":{},\"y\":{},\"type\":\"scatter\"},\"e55b587089db\":{\"x\":{},\"y\":{}}},\"cur_data\":\"e55b1ca02f0b\",\"visdat\":{\"e55b1ca02f0b\":[\"function (y) \",\"x\"],\"e55b587089db\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\\$/litre has trended up to \\$8 by 2022. *(this may seem unrealistically low - see footnote for caveats and use as directional information.)*\n\n#### **Year-over-Year % Change: \\$/Litre**\n\nWith relatively flat litre volume sales, the increase in dollar volume is driven by increase in sales \\$ per litre. Dollar per litre increases have been fairly steady, around 2%, until 2021. This **corresponds with overall increase in inflation, accelerating through 2021 and 2022**:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# chart % chg $/liters YoY\nch_title <- \"$/Litre: Year-over-Year % change\"\nplot <- trend_yr %>% filter(year!=min_yr) %>% \n  ggplot(aes(x=as.factor(year), y=pc_chg_d_per_l))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept = mean(trend_yr$pc_chg_d_per_l, na.rm=TRUE), linetype='dotted')+\n  scale_y_continuous(labels=percent_format(), expand=expansion(mult=c(0,0.1)))+\n  labs(title=ch_title,y=\"\",x=\"\")+\n   theme(axis.ticks.x = element_blank()) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-c3190691f39790e4db7b\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c3190691f39790e4db7b\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0178968313947701,0.017794345228112,0.0202929637614049,0.0178607024017945,0.03114135028391,0.0477398579142863],\"text\":[\"as.factor(year): 2017<br />pc_chg_d_per_l: 0.01789683\",\"as.factor(year): 2018<br />pc_chg_d_per_l: 0.01779435\",\"as.factor(year): 2019<br />pc_chg_d_per_l: 0.02029296\",\"as.factor(year): 2020<br />pc_chg_d_per_l: 0.01786070\",\"as.factor(year): 2021<br />pc_chg_d_per_l: 0.03114135\",\"as.factor(year): 2022<br />pc_chg_d_per_l: 0.04773986\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0.0254543418307129,0.0254543418307129],\"text\":\"yintercept: 0.02545434\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":22.648401826484},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"$/Litre: Year-over-Year % change\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,0.0525138437057149],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"1%\",\"2%\",\"3%\",\"4%\",\"5%\"],\"tickvals\":[0,0.01,0.02,0.03,0.04,0.05],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"1%\",\"2%\",\"3%\",\"4%\",\"5%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b19bab152\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b2fcf8bb0\":{\"yintercept\":{}}},\"cur_data\":\"e55b19bab152\",\"visdat\":{\"e55b19bab152\":[\"function (y) \",\"x\"],\"e55b2fcf8bb0\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n\\$/litre increases look exponential from here, but would be expected to level off as inflation slows down.\n\n## Annual Trends: By Beverage Type\n\nAs noted, the [BC LMR](https://www.bcldb.com/publications/liquor-market-review) provides a breakdown of sales by four major beverage types: **beer, refreshment beverages, spirits, wine.**\n\n### By Type: \\$ Sales\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# annual data by type\ndrop_yr <- c(2015,2023) ## drop partial yrs for simplicity\ntrend_yr_cat <- lmr_data %>% filter(year>drop_yr[1] & year<drop_yr[2]) %>% group_by(year, type) %>% summarize(\n  netsales=sum(as.numeric(netsales)),\n  litres=sum(as.numeric(litres))\n) \ntrend_yr_cat <- trend_yr_cat %>% ungroup() %>% mutate(\n  dollar_per_litre=netsales/litres,\n  pc_chg_sales=netsales/lag(netsales, n=4)-1, # yoy change by beverage type\n  pc_chg_litre=litres/lag(litres, n=4)-1,\n  pc_chg_dollar_per_l=dollar_per_litre/lag(dollar_per_litre, n=4)-1\n)\n## get subset of trend_yr data to add annual totals to trend_yr_cat for % of ttl calculations\ntrend_yr_yr <- trend_yr %>% select(year, netsales, litres) %>% rename(\n  netsales_ttl=netsales,\n  litres_ttl=litres\n)\ntrend_yr_cat <- left_join(trend_yr_cat, trend_yr_yr, by='year') %>% mutate(\n  pc_ttl_sales=netsales/netsales_ttl,\n  pc_ttl_litres=litres/litres_ttl\n)\n```\n:::\n\n\nFor \\$ sales, **wine and beer are the largest types** (well over 50%), followed by spirits, with refreshment beverages as distant fourth:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# annual sales by type (stack)\nch_title <- \"Net $ Sales by Type\"\n# order type by netsales for chart\ntrend_yr_cat$type <- fct_reorder(trend_yr_cat$type, trend_yr_cat$netsales)\ntrend_yr_cat$year <- as.factor(trend_yr_cat$year) ## foctar works better for bar charts\n\nplot <- trend_yr_cat %>% ggplot(aes(x=year, y=netsales, fill=type))+\n  geom_col()+\n  scale_y_continuous(labels=label_comma(prefix=\"$\", scale=1e-9,suffix=\"B\"), expand=expansion(mult = c(0,0.1)))+\n  scale_fill_manual(values=type_color)+\n  labs(title=ch_title, x=\"\",y=\"\", fill='')+ ## setting fill='' removes title from legend\n  theme(axis.ticks.x = element_blank())\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-6fc685975df1f07500cc\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6fc685975df1f07500cc\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[2851798252,2945448485,2995709557,3009266572,3105315326,3154830347,3243252135],\"x\":[1,2,3,4,5,6,7],\"y\":[178665896,199474847,236883948,283107399,380329505,418119962,424356867],\"text\":[\"year: 2016<br />netsales:  178665896<br />type: Refresh Bev\",\"year: 2017<br />netsales:  199474847<br />type: Refresh Bev\",\"year: 2018<br />netsales:  236883948<br />type: Refresh Bev\",\"year: 2019<br />netsales:  283107399<br />type: Refresh Bev\",\"year: 2020<br />netsales:  380329505<br />type: Refresh Bev\",\"year: 2021<br />netsales:  418119962<br />type: Refresh Bev\",\"year: 2022<br />netsales:  424356867<br />type: Refresh Bev\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,217,118,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Refresh Bev\",\"legendgroup\":\"Refresh Bev\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[2116040597,2187567763,2212493565,2198172603,2211060004,2229351378,2269307343],\"x\":[1,2,3,4,5,6,7],\"y\":[735757655,757880722,783215992,811093969,894255322,925478969,973944792],\"text\":[\"year: 2016<br />netsales:  735757655<br />type: Spirits\",\"year: 2017<br />netsales:  757880722<br />type: Spirits\",\"year: 2018<br />netsales:  783215992<br />type: Spirits\",\"year: 2019<br />netsales:  811093969<br />type: Spirits\",\"year: 2020<br />netsales:  894255322<br />type: Spirits\",\"year: 2021<br />netsales:  925478969<br />type: Spirits\",\"year: 2022<br />netsales:  973944792<br />type: Spirits\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,178,76,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Spirits\",\"legendgroup\":\"Spirits\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[1035218172,1074412393,1097227469,1114128477,1149491290,1175373548,1190192392],\"x\":[1,2,3,4,5,6,7],\"y\":[1080822425,1113155370,1115266096,1084044126,1061568714,1053977830,1079114951],\"text\":[\"year: 2016<br />netsales: 1080822425<br />type: Beer\",\"year: 2017<br />netsales: 1113155370<br />type: Beer\",\"year: 2018<br />netsales: 1115266096<br />type: Beer\",\"year: 2019<br />netsales: 1084044126<br />type: Beer\",\"year: 2020<br />netsales: 1061568714<br />type: Beer\",\"year: 2021<br />netsales: 1053977830<br />type: Beer\",\"year: 2022<br />netsales: 1079114951<br />type: Beer\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(252,78,42,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Beer\",\"legendgroup\":\"Beer\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0,0],\"x\":[1,2,3,4,5,6,7],\"y\":[1035218172,1074412393,1097227469,1114128477,1149491290,1175373548,1190192392],\"text\":[\"year: 2016<br />netsales: 1035218172<br />type: Wine\",\"year: 2017<br />netsales: 1074412393<br />type: Wine\",\"year: 2018<br />netsales: 1097227469<br />type: Wine\",\"year: 2019<br />netsales: 1114128477<br />type: Wine\",\"year: 2020<br />netsales: 1149491290<br />type: Wine\",\"year: 2021<br />netsales: 1175373548<br />type: Wine\",\"year: 2022<br />netsales: 1190192392<br />type: Wine\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(189,0,38,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Wine\",\"legendgroup\":\"Wine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Net $ Sales by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,4034369902.2],\"tickmode\":\"array\",\"ticktext\":[\"$0B\",\"$1B\",\"$2B\",\"$3B\",\"$4B\"],\"tickvals\":[0,1000000000,2000000000,3000000000,4000000000],\"categoryorder\":\"array\",\"categoryarray\":[\"$0B\",\"$1B\",\"$2B\",\"$3B\",\"$4B\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b3a689394\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"e55b3a689394\",\"visdat\":{\"e55b3a689394\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n#### **By Type: \\$ Sales % Breakdown**\n\nLooking at the overall % breakdown, we can more easily spot changes in composition over time:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"Net $ Sales by Type, % of Total\"\nplot <- trend_yr_cat %>% ggplot(aes(x=year, y=pc_ttl_sales, fill=type))+\n  geom_col()+ ## could use same as prev chart with position='fill' but wanted numbers for chart\n  scale_y_continuous(labels=percent_format(), expand=expansion(mult = c(0,0.1)))+\n  scale_fill_manual(values=type_color)+\n  labs(title=ch_title, x=\"\",y=\"\", fill='')+\n  theme(axis.ticks.x = element_blank(),\n        legend.title = element_blank())\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-c8e99a190f651a4d71ad\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-c8e99a190f651a4d71ad\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.941043388974619,0.93657242929571,0.926720155926317,0.914011165956943,0.890886902297821,0.882976272872649,0.884296044979551],\"x\":[1,2,3,4,5,6,7],\"y\":[0.0589566110253814,0.0634275707042896,0.0732798440736829,0.0859888340430571,0.109113097702179,0.117023727127351,0.115703955020449],\"text\":[\"year: 2016<br />pc_ttl_sales: 0.05895661<br />type: Refresh Bev\",\"year: 2017<br />pc_ttl_sales: 0.06342757<br />type: Refresh Bev\",\"year: 2018<br />pc_ttl_sales: 0.07327984<br />type: Refresh Bev\",\"year: 2019<br />pc_ttl_sales: 0.08598883<br />type: Refresh Bev\",\"year: 2020<br />pc_ttl_sales: 0.10911310<br />type: Refresh Bev\",\"year: 2021<br />pc_ttl_sales: 0.11702373<br />type: Refresh Bev\",\"year: 2022<br />pc_ttl_sales: 0.11570396<br />type: Refresh Bev\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,217,118,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Refresh Bev\",\"legendgroup\":\"Refresh Bev\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.69825627153402,0.695586992770608,0.68443296739223,0.66765580774299,0.634333132376447,0.623952528078666,0.618742985351632],\"x\":[1,2,3,4,5,6,7],\"y\":[0.242787117440599,0.240985436525103,0.242287188534087,0.246355358213953,0.256553769921374,0.259023744793983,0.265553059627919],\"text\":[\"year: 2016<br />pc_ttl_sales: 0.24278712<br />type: Spirits\",\"year: 2017<br />pc_ttl_sales: 0.24098544<br />type: Spirits\",\"year: 2018<br />pc_ttl_sales: 0.24228719<br />type: Spirits\",\"year: 2019<br />pc_ttl_sales: 0.24635536<br />type: Spirits\",\"year: 2020<br />pc_ttl_sales: 0.25655377<br />type: Spirits\",\"year: 2021<br />pc_ttl_sales: 0.25902374<br />type: Spirits\",\"year: 2022<br />pc_ttl_sales: 0.26555306<br />type: Spirits\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,178,76,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Spirits\",\"legendgroup\":\"Spirits\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.341603834080402,0.341633890425155,0.33942636687937,0.338396696977167,0.329778662408993,0.328964426132465,0.324514524681058],\"x\":[1,2,3,4,5,6,7],\"y\":[0.356652437453617,0.353953102345453,0.34500660051286,0.329259110765823,0.304554469967454,0.2949881019462,0.294228460670574],\"text\":[\"year: 2016<br />pc_ttl_sales: 0.35665244<br />type: Beer\",\"year: 2017<br />pc_ttl_sales: 0.35395310<br />type: Beer\",\"year: 2018<br />pc_ttl_sales: 0.34500660<br />type: Beer\",\"year: 2019<br />pc_ttl_sales: 0.32925911<br />type: Beer\",\"year: 2020<br />pc_ttl_sales: 0.30455447<br />type: Beer\",\"year: 2021<br />pc_ttl_sales: 0.29498810<br />type: Beer\",\"year: 2022<br />pc_ttl_sales: 0.29422846<br />type: Beer\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(252,78,42,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Beer\",\"legendgroup\":\"Beer\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0,0],\"x\":[1,2,3,4,5,6,7],\"y\":[0.341603834080402,0.341633890425155,0.33942636687937,0.338396696977167,0.329778662408993,0.328964426132465,0.324514524681058],\"text\":[\"year: 2016<br />pc_ttl_sales: 0.34160383<br />type: Wine\",\"year: 2017<br />pc_ttl_sales: 0.34163389<br />type: Wine\",\"year: 2018<br />pc_ttl_sales: 0.33942637<br />type: Wine\",\"year: 2019<br />pc_ttl_sales: 0.33839670<br />type: Wine\",\"year: 2020<br />pc_ttl_sales: 0.32977866<br />type: Wine\",\"year: 2021<br />pc_ttl_sales: 0.32896443<br />type: Wine\",\"year: 2022<br />pc_ttl_sales: 0.32451452<br />type: Wine\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(189,0,38,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Wine\",\"legendgroup\":\"Wine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":34.337899543379},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Net $ Sales by Type, % of Total\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,1.1],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"25%\",\"50%\",\"75%\",\"100%\"],\"tickvals\":[0,0.25,0.5,0.75,1],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"25%\",\"50%\",\"75%\",\"100%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"\",\"font\":{\"color\":null,\"family\":null,\"size\":0}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b76812694\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"e55b76812694\",\"visdat\":{\"e55b76812694\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nPercentage breakdown shows wine and beer with bulk of market share, BUT...**beer particularly fading in favour of refreshment beverages** and spirits, with the former showing strongest relative growth. Beer has gone **from 36% of total \\$ sales in 2016 to under 30% in 2022**, while **refreshment beverages** have gone from **under 6% to close to 12%**.\n\n#### **By Type: \\$ Sales Year-over-Year % Change**\n\nRefreshment Beverages had dolllar sales growth of **over 20% for 3 years in a row**:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"% Chg in Net $ Sales, Year-over-Year by Type\"\n## plot - filtered to exclude lowest yr, calculated above\nplot <- trend_yr_cat %>% filter(year!=min_yr) %>%\n  ggplot(aes(x=year, y=pc_chg_sales))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept = 0)+\n  facet_grid(.~type)+\n  scale_y_continuous(labels=percent_format())+\n  theme(strip.background = element_rect(fill = bar_col)) +\n  theme(strip.text=element_text(color='white'))+\n  labs(title=ch_title, x=\"\",y=\"\")+\n  theme(axis.text.x=element_text(hjust=0, vjust=0.5, angle=90),\n        axis.ticks.x = element_blank()\n        ,panel.border = element_rect(fill=NA)\n        ) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-82c3e99e8526c1dc49cc\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-82c3e99e8526c1dc49cc\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.116468511707461,0.187537935547332,0.195131208299517,0.343410685638774,0.0993624120747614,0.0149165444533357],\"text\":[\"year: 2017<br />pc_chg_sales:  0.116468512\",\"year: 2018<br />pc_chg_sales:  0.187537936\",\"year: 2019<br />pc_chg_sales:  0.195131208\",\"year: 2020<br />pc_chg_sales:  0.343410686\",\"year: 2021<br />pc_chg_sales:  0.099362412\",\"year: 2022<br />pc_chg_sales:  0.014916544\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0300684156660251,0.0334290994144062,0.0355942387345942,0.102529862356799,0.0349158078591787,0.0523683677570419],\"text\":[\"year: 2017<br />pc_chg_sales:  0.030068416\",\"year: 2018<br />pc_chg_sales:  0.033429099\",\"year: 2019<br />pc_chg_sales:  0.035594239\",\"year: 2020<br />pc_chg_sales:  0.102529862\",\"year: 2021<br />pc_chg_sales:  0.034915808\",\"year: 2022<br />pc_chg_sales:  0.052368368\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,-0.0279950857575428,-0.0207329309397504,-0.0071506289700245,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0299151315258841,0.00189616477347632,0.0279950857575428,0.0207329309397504,0.0071506289700245,0.0238497625704328],\"text\":[\"year: 2017<br />pc_chg_sales:  0.029915132\",\"year: 2018<br />pc_chg_sales:  0.001896165\",\"year: 2019<br />pc_chg_sales: -0.027995086\",\"year: 2020<br />pc_chg_sales: -0.020732931\",\"year: 2021<br />pc_chg_sales: -0.007150629\",\"year: 2022<br />pc_chg_sales:  0.023849763\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0378608317165436,0.0212349337634641,0.0154033766721164,0.031740336711634,0.0225162715239016,0.0126077739500055],\"text\":[\"year: 2017<br />pc_chg_sales:  0.037860832\",\"year: 2018<br />pc_chg_sales:  0.021234934\",\"year: 2019<br />pc_chg_sales:  0.015403377\",\"year: 2020<br />pc_chg_sales:  0.031740337\",\"year: 2021<br />pc_chg_sales:  0.022516272\",\"year: 2022<br />pc_chg_sales:  0.012607774\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":54.9649923896499,\"r\":18.9954337899543,\"b\":36.7732115677321,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"% Chg in Net $ Sales, Year-over-Year by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,0.230974124809741],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0465653743273587,0.36198097420859],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"10%\",\"20%\",\"30%\"],\"tickvals\":[0,0.1,0.2,0.3],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"10%\",\"20%\",\"30%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"annotations\":[{\"text\":\"Refresh Bev\",\"x\":0.115487062404871,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Spirits\",\"x\":0.375,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Beer\",\"x\":0.625,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Wine\",\"x\":0.884512937595129,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"xaxis2\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.269025875190259,0.480974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis3\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.519025875190259,0.730974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis4\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.769025875190259,1],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b71a006fc\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b412ac4ab\":{\"yintercept\":{}}},\"cur_data\":\"e55b71a006fc\",\"visdat\":{\"e55b71a006fc\":[\"function (y) \",\"x\"],\"e55b412ac4ab\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nDuring the pandemic in 2020, **Refreshment Beverages had a surge in growth**, on top of an already strong trend from previous years. Spirits also had a significant increase - around 10% year-over-year growth.\n\n**Beer** is the only beverage type with **negative growth** during the period, through 2019-2021, although recovered in 2022.\n\n### By Type: Volume (Litres)\n\nLooking at litre sales confirms growth of Refreshment Beverages:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# annual litres by category (stack)\nch_title <- \"Volume (Litres) by Type\"\n# order type by netsales for chart\ntrend_yr_cat$type <- fct_reorder(trend_yr_cat$type, trend_yr_cat$litres)\n\nplot <- trend_yr_cat %>% ggplot(aes(x=year, y=litres, fill=type))+\n  geom_col()+\n  scale_y_continuous(labels=label_comma(scale=1e-6,suffix=\"M\"), expand=expansion(mult = c(0,0.1)))+\n  scale_fill_manual(values=type_color)+\n  labs(title=ch_title, x=\"\",y=\"\", fill='')+\n  theme(axis.ticks.x = element_blank())\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-3db3d818e80987a6458c\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-3db3d818e80987a6458c\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[414212052,422435468,426465106,425148198,440664375,437920377,427829347],\"x\":[1,2,3,4,5,6,7],\"y\":[26621213,27004311,27426873,27943057,30607265,30565978,31156754],\"text\":[\"year: 2016<br />litres:  26621213<br />type: Spirits\",\"year: 2017<br />litres:  27004311<br />type: Spirits\",\"year: 2018<br />litres:  27426873<br />type: Spirits\",\"year: 2019<br />litres:  27943057<br />type: Spirits\",\"year: 2020<br />litres:  30607265<br />type: Spirits\",\"year: 2021<br />litres:  30565978<br />type: Spirits\",\"year: 2022<br />litres:  31156754<br />type: Spirits\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,178,76,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Spirits\",\"legendgroup\":\"Spirits\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[371389789,374839785,371664229,361383148,356539076,347986142,342074791],\"x\":[1,2,3,4,5,6,7],\"y\":[42822263,47595683,54800877,63765050,84125299,89934235,85754556],\"text\":[\"year: 2016<br />litres:  42822263<br />type: Refresh Bev\",\"year: 2017<br />litres:  47595683<br />type: Refresh Bev\",\"year: 2018<br />litres:  54800877<br />type: Refresh Bev\",\"year: 2019<br />litres:  63765050<br />type: Refresh Bev\",\"year: 2020<br />litres:  84125299<br />type: Refresh Bev\",\"year: 2021<br />litres:  89934235<br />type: Refresh Bev\",\"year: 2022<br />litres:  85754556<br />type: Refresh Bev\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,217,118,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Refresh Bev\",\"legendgroup\":\"Refresh Bev\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[295260218,298034136,294697574,284511451,275383749,270003650,267876006],\"x\":[1,2,3,4,5,6,7],\"y\":[76129571,76805649,76966655,76871697,81155327,77982492,74198785],\"text\":[\"year: 2016<br />litres:  76129571<br />type: Wine\",\"year: 2017<br />litres:  76805649<br />type: Wine\",\"year: 2018<br />litres:  76966655<br />type: Wine\",\"year: 2019<br />litres:  76871697<br />type: Wine\",\"year: 2020<br />litres:  81155327<br />type: Wine\",\"year: 2021<br />litres:  77982492<br />type: Wine\",\"year: 2022<br />litres:  74198785<br />type: Wine\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(189,0,38,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Wine\",\"legendgroup\":\"Wine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0,0],\"x\":[1,2,3,4,5,6,7],\"y\":[295260218,298034136,294697574,284511451,275383749,270003650,267876006],\"text\":[\"year: 2016<br />litres: 295260218<br />type: Beer\",\"year: 2017<br />litres: 298034136<br />type: Beer\",\"year: 2018<br />litres: 294697574<br />type: Beer\",\"year: 2019<br />litres: 284511451<br />type: Beer\",\"year: 2020<br />litres: 275383749<br />type: Beer\",\"year: 2021<br />litres: 270003650<br />type: Beer\",\"year: 2022<br />litres: 267876006<br />type: Beer\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(252,78,42,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Beer\",\"legendgroup\":\"Beer\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":34.337899543379},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Volume (Litres) by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,518398804],\"tickmode\":\"array\",\"ticktext\":[\"0M\",\"100M\",\"200M\",\"300M\",\"400M\",\"500M\"],\"tickvals\":[0,100000000,200000000,300000000,400000000,500000000],\"categoryorder\":\"array\",\"categoryarray\":[\"0M\",\"100M\",\"200M\",\"300M\",\"400M\",\"500M\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b1b06d5d7\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"e55b1b06d5d7\",\"visdat\":{\"e55b1b06d5d7\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n**Beer constitutes the largest volume** by far (no surprise), although has been shrinking, with **growth in Refreshment Beverage** volume. Beer went from 295M litres in 2016 to 268M in 2022, while **Refreshment Beverages went from 43M to 86M during the same period**.\n\nPercentage breakdown highlights even further the **decline in beer share of volume** (still well over 50%), mostly due to increase in **Refreshment Beverages** sales.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# annual litres by type (stack)\nch_title <- \"Volume (Litres) by Type\"\n# order type by netsales for chart\ntrend_yr_cat$type <- fct_reorder(trend_yr_cat$type, trend_yr_cat$litres)\n\nplot <- trend_yr_cat %>% ggplot(aes(x=year, y=pc_ttl_litres, fill=type))+\n  geom_col(position='fill')+\n  scale_y_continuous(labels=percent_format(), expand=expansion(mult = c(0,0.1)))+\n  scale_fill_manual(values=type_color)+\n  labs(title=ch_title, x=\"\",y=\"\", fill=\"\")+\n  theme(axis.ticks.x = element_blank())\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-82071be7a5657555ac7b\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-82071be7a5657555ac7b\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.939611605762101,0.939915618817532,0.939574008202511,0.938327971039741,0.935053878905168,0.934755884192187,0.932118306127096],\"x\":[1,2,3,4,5,6,7],\"y\":[0.0603883942378985,0.0600843811824676,0.0604259917974889,0.0616720289602588,0.0649461210948319,0.0652441158078125,0.0678816938729044],\"text\":[\"year: 2016<br />pc_ttl_litres: 0.06038839<br />type: Spirits\",\"year: 2017<br />pc_ttl_litres: 0.06008438<br />type: Spirits\",\"year: 2018<br />pc_ttl_litres: 0.06042599<br />type: Spirits\",\"year: 2019<br />pc_ttl_litres: 0.06167203<br />type: Spirits\",\"year: 2020<br />pc_ttl_litres: 0.06494612<br />type: Spirits\",\"year: 2021<br />pc_ttl_litres: 0.06524412<br />type: Spirits\",\"year: 2022<br />pc_ttl_litres: 0.06788169<br />type: Spirits\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,178,76,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Spirits\",\"legendgroup\":\"Spirits\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.842472241744279,0.834015595668936,0.818838503863493,0.797594621419034,0.756546852681396,0.74278821204942,0.745283550536098],\"x\":[1,2,3,4,5,6,7],\"y\":[0.097139364017822,0.105900023148596,0.120735504339018,0.140733349620707,0.178507026223772,0.191967672142767,0.186834755590998],\"text\":[\"year: 2016<br />pc_ttl_litres: 0.09713936<br />type: Refresh Bev\",\"year: 2017<br />pc_ttl_litres: 0.10590002<br />type: Refresh Bev\",\"year: 2018<br />pc_ttl_litres: 0.12073550<br />type: Refresh Bev\",\"year: 2019<br />pc_ttl_litres: 0.14073335<br />type: Refresh Bev\",\"year: 2020<br />pc_ttl_litres: 0.17850703<br />type: Refresh Bev\",\"year: 2021<br />pc_ttl_litres: 0.19196767<br />type: Refresh Bev\",\"year: 2022<br />pc_ttl_litres: 0.18683476<br />type: Refresh Bev\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,217,118,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Refresh Bev\",\"legendgroup\":\"Refresh Bev\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0.669777535957955,0.66312362617996,0.64926808058884,0.627934103473262,0.584341864916803,0.576331940340077,0.583625529000496],\"x\":[1,2,3,4,5,6,7],\"y\":[0.172694705786325,0.170891969488976,0.169570423274653,0.169660517945772,0.172204987764594,0.166456271709344,0.161658021535602],\"text\":[\"year: 2016<br />pc_ttl_litres: 0.17269471<br />type: Wine\",\"year: 2017<br />pc_ttl_litres: 0.17089197<br />type: Wine\",\"year: 2018<br />pc_ttl_litres: 0.16957042<br />type: Wine\",\"year: 2019<br />pc_ttl_litres: 0.16966052<br />type: Wine\",\"year: 2020<br />pc_ttl_litres: 0.17220499<br />type: Wine\",\"year: 2021<br />pc_ttl_litres: 0.16645627<br />type: Wine\",\"year: 2022<br />pc_ttl_litres: 0.16165802<br />type: Wine\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(189,0,38,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Wine\",\"legendgroup\":\"Wine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0,0],\"x\":[1,2,3,4,5,6,7],\"y\":[0.669777535957955,0.66312362617996,0.64926808058884,0.627934103473262,0.584341864916803,0.576331940340077,0.583625529000496],\"text\":[\"year: 2016<br />pc_ttl_litres: 0.66977754<br />type: Beer\",\"year: 2017<br />pc_ttl_litres: 0.66312363<br />type: Beer\",\"year: 2018<br />pc_ttl_litres: 0.64926808<br />type: Beer\",\"year: 2019<br />pc_ttl_litres: 0.62793410<br />type: Beer\",\"year: 2020<br />pc_ttl_litres: 0.58434186<br />type: Beer\",\"year: 2021<br />pc_ttl_litres: 0.57633194<br />type: Beer\",\"year: 2022<br />pc_ttl_litres: 0.58362553<br />type: Beer\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(252,78,42,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"name\":\"Beer\",\"legendgroup\":\"Beer\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":34.337899543379},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Volume (Litres) by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0,1.1],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"25%\",\"50%\",\"75%\",\"100%\"],\"tickvals\":[0,0.25,0.5,0.75,1],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"25%\",\"50%\",\"75%\",\"100%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b348d7c67\":{\"x\":{},\"y\":{},\"fill\":{},\"type\":\"bar\"}},\"cur_data\":\"e55b348d7c67\",\"visdat\":{\"e55b348d7c67\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\nBeer has gone from almost 70% to under 60% of volume by type, with Refreshment Beverages taking the share and rising to 19% of total.\n\n#### **By Type: Year-over-Year % Change in \\$ Sales**\n\n**Refreshment Beverage growth** in litres is lower than growth in dollar sales, but still impressive, **peaking at over 30% year-over-year.**\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"% Chg in Volume (Litres), Year-over-Year by Type\"\n## using prev calc. value for first yr, to remove first yr since no % chg value\nplot <- trend_yr_cat %>% filter(year!=min_yr) %>%\n  ggplot(aes(x=year, y=pc_chg_litre))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept = 0)+\n  facet_grid(.~type)+\n  scale_y_continuous(labels=percent_format())+\n  theme(strip.background = element_rect(fill = bar_col)) +\n  theme(strip.text=element_text(color='white'))+\n  labs(title=ch_title, x=\"\",y=\"\")+\n  theme(axis.text.x=element_text(hjust=0, vjust=0.5, angle=90),\n        axis.ticks.x = element_blank()\n        ,panel.border = element_rect(fill=NA)\n        ) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-e3d751a7e575cc62fcaa\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e3d751a7e575cc62fcaa\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,-0.00134892810579446,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0143907041350821,0.0156479459890682,0.0188203737261627,0.0953441851405163,0.00134892810579446,0.0193278945630335],\"text\":[\"year: 2017<br />pc_chg_litre:  0.014390704\",\"year: 2018<br />pc_chg_litre:  0.015647946\",\"year: 2019<br />pc_chg_litre:  0.018820374\",\"year: 2020<br />pc_chg_litre:  0.095344185\",\"year: 2021<br />pc_chg_litre: -0.001348928\",\"year: 2022<br />pc_chg_litre:  0.019327895\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,-0.04647483797466],\"x\":[1,2,3,4,5,6],\"y\":[0.111470521770416,0.151383351300999,0.163577181438173,0.319301074805085,0.0690509997474125,0.04647483797466],\"text\":[\"year: 2017<br />pc_chg_litre:  0.111470522\",\"year: 2018<br />pc_chg_litre:  0.151383351\",\"year: 2019<br />pc_chg_litre:  0.163577181\",\"year: 2020<br />pc_chg_litre:  0.319301075\",\"year: 2021<br />pc_chg_litre:  0.069051000\",\"year: 2022<br />pc_chg_litre: -0.046474838\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,-0.00123375505925261,0,-0.0390958316266781,-0.0485199549663019],\"x\":[1,2,3,4,5,6],\"y\":[0.00888062274776247,0.00209627810058599,0.00123375505925261,0.0557244105070296,0.0390958316266781,0.0485199549663019],\"text\":[\"year: 2017<br />pc_chg_litre:  0.008880623\",\"year: 2018<br />pc_chg_litre:  0.002096278\",\"year: 2019<br />pc_chg_litre: -0.001233755\",\"year: 2020<br />pc_chg_litre:  0.055724411\",\"year: 2021<br />pc_chg_litre: -0.039095832\",\"year: 2022<br />pc_chg_litre: -0.048519955\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,-0.0111952343606707,-0.0345646652659584,-0.0320820197848557,-0.0195367338106796,-0.0078800564362741],\"x\":[1,2,3,4,5,6],\"y\":[0.00939482473727637,0.0111952343606707,0.0345646652659584,0.0320820197848557,0.0195367338106796,0.0078800564362741],\"text\":[\"year: 2017<br />pc_chg_litre:  0.009394825\",\"year: 2018<br />pc_chg_litre: -0.011195234\",\"year: 2019<br />pc_chg_litre: -0.034564665\",\"year: 2020<br />pc_chg_litre: -0.032082020\",\"year: 2021<br />pc_chg_litre: -0.019536734\",\"year: 2022<br />pc_chg_litre: -0.007880056\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":54.9649923896499,\"r\":18.9954337899543,\"b\":36.7732115677321,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"% Chg in Volume (Litres), Year-over-Year by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,0.230974124809741],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0669110064548713,0.337692126293655],\"tickmode\":\"array\",\"ticktext\":[\"0%\",\"10%\",\"20%\",\"30%\"],\"tickvals\":[0,0.1,0.2,0.3],\"categoryorder\":\"array\",\"categoryarray\":[\"0%\",\"10%\",\"20%\",\"30%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"annotations\":[{\"text\":\"Spirits\",\"x\":0.115487062404871,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Refresh Bev\",\"x\":0.375,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Wine\",\"x\":0.625,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Beer\",\"x\":0.884512937595129,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"xaxis2\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.269025875190259,0.480974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis3\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.519025875190259,0.730974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis4\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.769025875190259,1],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b1b7d60e6\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b4464aa23\":{\"yintercept\":{}}},\"cur_data\":\"e55b1b7d60e6\",\"visdat\":{\"e55b1b7d60e6\":[\"function (y) \",\"x\"],\"e55b4464aa23\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n**Beer had declining volume in the most recent 5 years**, although may be stabilizing. Other types all had strongest volume growth in 2020 during the pandemic. Refreshment beverages saw decline in growth rate in 2022 after 5 years of strong growth.\n\nInterestingly, **Beer** was the only beverage type that **did not experience growth during the first year of covid-19 pandemic** - maybe due to relatively high consumption of beer consumed in bars and restaurants? That could explain why declining growth decreased as pandemic restrictions faded.\n\n### By Type: \\$/Litre\n\nBreaking out \\$/litre (proxy for price) by beverage type shows that not all increase at the same rate, and even **\\$/litre** ***decreases*** **are possible**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"$/Litre by Type\"\nplot <- trend_yr_cat %>% ggplot(aes(x=year, y=dollar_per_litre, color=type, group=type))+\n  geom_line(size=1)+\n  geom_point(aes(y=dollar_per_litre), size=2)+\n  scale_y_continuous(labels=label_comma(prefix=\"$\"))+\n  scale_x_discrete(breaks=trend_yr_cat$year)+\n  scale_color_manual(values=type_color)+\n  labs(title=ch_title, x=\"\", y=\"\", color=\"\")\nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-8c97dc458fb074aa37e0\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-8c97dc458fb074aa37e0\">{\"x\":{\"data\":[{\"x\":[1,2,3,4,5,6,7],\"y\":[27.638021415478,28.0651752973812,28.5565179814702,29.0266726722134,29.2170934580401,30.2780748255462,31.259507713801],\"text\":[\"year: 2016<br />dollar_per_litre: 27.638021<br />type: Spirits<br />type: Spirits\",\"year: 2017<br />dollar_per_litre: 28.065175<br />type: Spirits<br />type: Spirits\",\"year: 2018<br />dollar_per_litre: 28.556518<br />type: Spirits<br />type: Spirits\",\"year: 2019<br />dollar_per_litre: 29.026673<br />type: Spirits<br />type: Spirits\",\"year: 2020<br />dollar_per_litre: 29.217093<br />type: Spirits<br />type: Spirits\",\"year: 2021<br />dollar_per_litre: 30.278075<br />type: Spirits<br />type: Spirits\",\"year: 2022<br />dollar_per_litre: 31.259508<br />type: Spirits<br />type: Spirits\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":3.77952755905512,\"color\":\"rgba(254,178,76,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Spirits\",\"legendgroup\":\"Spirits\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,178,76,1)\",\"opacity\":1,\"size\":7.55905511811024,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(254,178,76,1)\"}},\"frame\":null},{\"x\":[1,2,3,4,5,6,7],\"y\":[4.17226656143791,4.1910281442962,4.32263060315622,4.43985222312223,4.52098844843333,4.64917461075863,4.94850520828304],\"text\":[\"year: 2016<br />dollar_per_litre:  4.172267<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2017<br />dollar_per_litre:  4.191028<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2018<br />dollar_per_litre:  4.322631<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2019<br />dollar_per_litre:  4.439852<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2020<br />dollar_per_litre:  4.520988<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2021<br />dollar_per_litre:  4.649175<br />type: Refresh Bev<br />type: Refresh Bev\",\"year: 2022<br />dollar_per_litre:  4.948505<br />type: Refresh Bev<br />type: Refresh Bev\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":3.77952755905512,\"color\":\"rgba(254,217,118,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Refresh Bev\",\"legendgroup\":\"Refresh Bev\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(254,217,118,1)\",\"opacity\":1,\"size\":7.55905511811024,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(254,217,118,1)\"}},\"frame\":null},{\"x\":[1,2,3,4,5,6,7],\"y\":[13.5981085720291,13.9887157649042,14.2558809266169,14.4933508752903,14.164089191582,15.0722747870124,16.0405913924332],\"text\":[\"year: 2016<br />dollar_per_litre: 13.598109<br />type: Wine<br />type: Wine\",\"year: 2017<br />dollar_per_litre: 13.988716<br />type: Wine<br />type: Wine\",\"year: 2018<br />dollar_per_litre: 14.255881<br />type: Wine<br />type: Wine\",\"year: 2019<br />dollar_per_litre: 14.493351<br />type: Wine<br />type: Wine\",\"year: 2020<br />dollar_per_litre: 14.164089<br />type: Wine<br />type: Wine\",\"year: 2021<br />dollar_per_litre: 15.072275<br />type: Wine<br />type: Wine\",\"year: 2022<br />dollar_per_litre: 16.040591<br />type: Wine<br />type: Wine\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":3.77952755905512,\"color\":\"rgba(189,0,38,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Wine\",\"legendgroup\":\"Wine\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(189,0,38,1)\",\"opacity\":1,\"size\":7.55905511811024,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(189,0,38,1)\"}},\"frame\":null},{\"x\":[1,2,3,4,5,6,7],\"y\":[3.66057585515974,3.73499286001252,3.78444274536172,3.8101950631154,3.85487058642665,3.90356882212518,4.02841212661652],\"text\":[\"year: 2016<br />dollar_per_litre:  3.660576<br />type: Beer<br />type: Beer\",\"year: 2017<br />dollar_per_litre:  3.734993<br />type: Beer<br />type: Beer\",\"year: 2018<br />dollar_per_litre:  3.784443<br />type: Beer<br />type: Beer\",\"year: 2019<br />dollar_per_litre:  3.810195<br />type: Beer<br />type: Beer\",\"year: 2020<br />dollar_per_litre:  3.854871<br />type: Beer<br />type: Beer\",\"year: 2021<br />dollar_per_litre:  3.903569<br />type: Beer<br />type: Beer\",\"year: 2022<br />dollar_per_litre:  4.028412<br />type: Beer<br />type: Beer\"],\"type\":\"scatter\",\"mode\":\"lines+markers\",\"line\":{\"width\":3.77952755905512,\"color\":\"rgba(252,78,42,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"name\":\"Beer\",\"legendgroup\":\"Beer\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(252,78,42,1)\",\"opacity\":1,\"size\":7.55905511811024,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(252,78,42,1)\"}},\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.2754946727549,\"r\":7.30593607305936,\"b\":25.0837138508371,\"l\":28.4931506849315},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"$/Litre by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,7.6],\"tickmode\":\"array\",\"ticktext\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6,7],\"categoryorder\":\"array\",\"categoryarray\":[\"2016\",\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[2.28062926222767,32.6394543067331],\"tickmode\":\"array\",\"ticktext\":[\"$10\",\"$20\",\"$30\"],\"tickvals\":[10,20,30],\"categoryorder\":\"array\",\"categoryarray\":[\"$10\",\"$20\",\"$30\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":true,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187}}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b31e075bf\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"e55b752682e\":{\"x\":{},\"y\":{},\"colour\":{}}},\"cur_data\":\"e55b31e075bf\",\"visdat\":{\"e55b31e075bf\":[\"function (y) \",\"x\"],\"e55b752682e\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n#### **By Type: Year-over-Year % Change in \\$/Litre**\n\nWide range of price categories obscures the changes at high level - % change year-over-year makes trends more visible.\n\n**Refreshment Beverage** growth in both \\$ sales and litre volume comes through in **strongest growth in \\$/litre of any beverage type**:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nch_title <- \"% Chg in $/Litres, Year-over-Year by Type\"\nplot <- trend_yr_cat %>% filter(year!=min_yr) %>%\n  ggplot(aes(x=year, y=pc_chg_dollar_per_l))+\n  geom_col(fill=bar_col)+\n  geom_hline(yintercept = 0)+\n  facet_grid(.~type)+\n  scale_y_continuous(labels=percent_format())+\n  theme(strip.background = element_rect(fill = bar_col)) +\n  theme(strip.text=element_text(color='white'))+\n  labs(title=ch_title, x=\"\",y=\"\")+\n  theme(axis.text.x=element_text(hjust=0, vjust=0.5, angle=90),\n        axis.ticks.x = element_blank()\n        ,panel.border = element_rect(fill=NA)\n        ) \nggplotly(plot)\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-20e833b2113674798de3\" style=\"width:100%;height:487px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-20e833b2113674798de3\">{\"x\":{\"data\":[{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0154552988971943,0.0175072016790447,0.0164640062576329,0.00656020026742654,0.0363137205632671,0.0324139792212517],\"text\":[\"year: 2017<br />pc_chg_dollar_per_l:  0.015455299\",\"year: 2018<br />pc_chg_dollar_per_l:  0.017507202\",\"year: 2019<br />pc_chg_dollar_per_l:  0.016464006\",\"year: 2020<br />pc_chg_dollar_per_l:  0.006560200\",\"year: 2021<br />pc_chg_dollar_per_l:  0.036313721\",\"year: 2022<br />pc_chg_dollar_per_l:  0.032413979\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.00449673638584969,0.0314009962064159,0.0271181210535116,0.0182745328523672,0.0283535699742206,0.0643835997967761],\"text\":[\"year: 2017<br />pc_chg_dollar_per_l:  0.004496736\",\"year: 2018<br />pc_chg_dollar_per_l:  0.031400996\",\"year: 2019<br />pc_chg_dollar_per_l:  0.027118121\",\"year: 2020<br />pc_chg_dollar_per_l:  0.018274533\",\"year: 2021<br />pc_chg_dollar_per_l:  0.028353570\",\"year: 2022<br />pc_chg_dollar_per_l:  0.064383600\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,-0.0227181199531769,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0287251120849674,0.0190986196447653,0.0166576832323324,0.0227181199531769,0.0641188842534428,0.0642448879883157],\"text\":[\"year: 2017<br />pc_chg_dollar_per_l:  0.028725112\",\"year: 2018<br />pc_chg_dollar_per_l:  0.019098620\",\"year: 2019<br />pc_chg_dollar_per_l:  0.016657683\",\"year: 2020<br />pc_chg_dollar_per_l: -0.022718120\",\"year: 2021<br />pc_chg_dollar_per_l:  0.064118884\",\"year: 2022<br />pc_chg_dollar_per_l:  0.064244888\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"orientation\":\"v\",\"width\":[0.9,0.9,0.9,0.9,0.9,0.9],\"base\":[0,0,0,0,0,0],\"x\":[1,2,3,4,5,6],\"y\":[0.0203293164237777,0.0132396197804352,0.00680478461069112,0.0117252588309009,0.0126329106533436,0.0319818376926608],\"text\":[\"year: 2017<br />pc_chg_dollar_per_l:  0.020329316\",\"year: 2018<br />pc_chg_dollar_per_l:  0.013239620\",\"year: 2019<br />pc_chg_dollar_per_l:  0.006804785\",\"year: 2020<br />pc_chg_dollar_per_l:  0.011725259\",\"year: 2021<br />pc_chg_dollar_per_l:  0.012632911\",\"year: 2022<br />pc_chg_dollar_per_l:  0.031981838\"],\"type\":\"bar\",\"textposition\":\"none\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(8,29,88,1)\",\"line\":{\"width\":1.88976377952756,\"color\":\"transparent\"}},\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x2\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x3\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,6.6],\"y\":[0,0],\"text\":\"yintercept: 0\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(0,0,0,1)\",\"dash\":\"solid\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x4\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":54.9649923896499,\"r\":18.9954337899543,\"b\":36.7732115677321,\"l\":40.1826484018265},\"plot_bgcolor\":\"rgba(255,255,255,1)\",\"paper_bgcolor\":\"rgba(255,255,255,1)\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"% Chg in $/Litres, Year-over-Year by Type\",\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,0.230974124809741],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[-0.0270732059406745,0.0687386857842738],\"tickmode\":\"array\",\"ticktext\":[\"-2.5%\",\"0.0%\",\"2.5%\",\"5.0%\"],\"tickvals\":[-0.025,3.46944695195361e-18,0.025,0.05],\"categoryorder\":\"array\",\"categoryarray\":[\"-2.5%\",\"0.0%\",\"2.5%\",\"5.0%\"],\"nticks\":null,\"ticks\":\"outside\",\"tickcolor\":\"rgba(51,51,51,1)\",\"ticklen\":3.65296803652968,\"tickwidth\":0.66417600664176,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":\"\",\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":0.230974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.269025875190259,\"x1\":0.480974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.519025875190259,\"x1\":0.730974124809741,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"},{\"type\":\"rect\",\"fillcolor\":\"transparent\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":0.66417600664176,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":1},{\"type\":\"rect\",\"fillcolor\":\"rgba(8,29,88,1)\",\"line\":{\"color\":\"rgba(0,0,0,1)\",\"width\":1.32835201328352,\"linetype\":\"solid\"},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0.769025875190259,\"x1\":1,\"y0\":0,\"y1\":23.37899543379,\"yanchor\":1,\"ysizemode\":\"pixel\"}],\"annotations\":[{\"text\":\"Spirits\",\"x\":0.115487062404871,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Refresh Bev\",\"x\":0.375,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Wine\",\"x\":0.625,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"},{\"text\":\"Beer\",\"x\":0.884512937595129,\"y\":1,\"showarrow\":false,\"ax\":0,\"ay\":0,\"font\":{\"color\":\"rgba(255,255,255,1)\",\"family\":\"\",\"size\":11.689497716895},\"xref\":\"paper\",\"yref\":\"paper\",\"textangle\":-0,\"xanchor\":\"center\",\"yanchor\":\"bottom\"}],\"xaxis2\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.269025875190259,0.480974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis3\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.519025875190259,0.730974124809741],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"xaxis4\":{\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,6.6],\"tickmode\":\"array\",\"ticktext\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"tickvals\":[1,2,3,4,5,6],\"categoryorder\":\"array\",\"categoryarray\":[\"2017\",\"2018\",\"2019\",\"2020\",\"2021\",\"2022\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(77,77,77,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-90,\"showline\":true,\"linecolor\":\"rgba(0,0,0,1)\",\"linewidth\":0.66417600664176,\"showgrid\":false,\"domain\":[0.769025875190259,1],\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":\"\",\"hoverformat\":\".2f\"},\"showlegend\":false,\"legend\":{\"bgcolor\":\"rgba(255,255,255,1)\",\"bordercolor\":\"transparent\",\"borderwidth\":1.88976377952756,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895}},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"source\":\"A\",\"attrs\":{\"e55b4d0668bf\":{\"x\":{},\"y\":{},\"type\":\"bar\"},\"e55b5fc6fb1a\":{\"yintercept\":{}}},\"cur_data\":\"e55b4d0668bf\",\"visdat\":{\"e55b4d0668bf\":[\"function (y) \",\"x\"],\"e55b5fc6fb1a\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n\n**Wine** is an interesting case of **decrease in \\$/litre in 2020** - under 2.5%, but a decrease nevertheless. It's possible this *may* have been influenced by the [changes to LDB pricing model for hospitality industry in 2020](https://news.gov.bc.ca/releases/2021PSSG0014-000308) during the pandemic, which allowed restaurants and pubs to purchase alcohol at wholesale prices.\n\n## \\$/Litre vs Volume and \\$ Sales\n\nExploring the relationship between changes in \\$/Litre (proxy for price) and changes in volume, as well as changes in \\$/Litre and total \\$ sales:\n\n-   Are price changes associated with changes in volume purchases?\n-   Are price changes associated with changes in total \\$ sales?\n\nNotes on two charts below:\n\n-   **y-axis** is adjusted for each beverage type to match the data for that type, so please take that into account.\n-   **red dotted lines** are the 0 axis, both vertically and horizontally.\n\n### **Changes in \\$/Litre vs Changes in Volume**\n\nFor changes in \\$/litre vs volume, in general, we would expect dots to be in the top left (price decrease, volume increase) or bottom right (price increase, volume decrease).\n\nIn other words: less is more (and vice versa) - assuming price sensitivity.\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nch_title <- \"Relationship Between Changes in $/litre and volume\"\n## convert year to numeric for color gradient\ntrend_yr_cat$year <- as.integer(as.character(trend_yr_cat$year)) \n\ntrend_yr_cat %>% ggplot(aes(x=pc_chg_dollar_per_l, y=pc_chg_litre, color=year, label=year))+\n  geom_point()+\n  ## options for labelling - too cluttered\n  #geom_text(vjust=0.2, hjust=-0.2, size=3)+\n  #geom_text_repel(size=3)+\n  scale_color_gradient(low = \"lightblue\", high = \"darkblue\") +\n  facet_grid(type~., scales='free_y')+\n  scale_x_continuous(labels=percent_format())+\n  scale_y_continuous(labels=percent_format())+\n  geom_hline(yintercept=0, linetype='dotted', color='red')+\n  geom_vline(xintercept = 0, linetype='dotted', color='red')+\n  labs(title=ch_title, x=\"% Chg in $/litre\", y=\"% Chg in Litres (scale varies)\")+\n  theme(panel.border = element_rect(fill=NA))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-16-1.png){fig-align='center' width=480}\n:::\n:::\n\n\nDifferent types of beverages have different relationships between revenue per litre - our proxy for 'price' - and volume sales:\n\n-   **Wine is the clearest case** in this dataset, where an average **price decrease in wine of around 2.5% was associated with \\~6% volume growth** (top left of Wine panel), price increases around \\~1.5%-3% had little apparent effect, and **price increases of 6+%** were associated with **\\~3% decline** in sales volume.\n-   **Beer** looks like a counter-intuitive relationship where the **smallest price increases** actually tended to be associatedwith **largest decreases in volume**. Depending on the timing, price decreases may have been in response to softening demand, and may have prevented further decreases in volume. In any case, price changes were relatively modest, and there are probably other factors involved.\n-   Refreshment beverages don't appear to have a consistent relationship between price increase and changes in volume during this period of growth, although most recently a \\~6% increase in price is associated with a reversal in the growth trend and a small decrease in volume.\n\nClearly, though, there are a variety of factors at work here and **not enough data to make any solid conclusions** with regard to effect of changes in net sales per litre and litre volumes sold.\n\n### **Changes in \\$/Litre vs Changes in Volume**\n\nHow does this play out in terms of sales dollars generated along with price and volume changes?\n\nIf it plays out well for producers/retailers:\n\n-   **Unit price (\\$/litre) increases** may dampen volume sales but result in growth in overall net \\$ sales. This outcome would land dots in the **top right quadrant**.\n-   Likewise, **unit price decreases (or smaller increases)** will be expected lead to higher volume sales that will more than offset the decrease in unit price and, again, deliver growth in overall net \\$ sales. Dots would be in the **top left**.\n\nIf it *doesn't* play out as hoped by producers/retailers:\n\n-   Either price increases will dampen demand so much or price decreases will not lift volume sales high enough, and overall net \\$ sales decreases. This will result in **dots in lower right for the former case**, or l**ower left for the latter**.\n\nAdditional notes on chart below:\n\n-   As with chart above, y-axis is adjusted for each type, red dotted lines are the 0 axes.\n-   \\% chg in volume is indicated by size of the dot. This makes for a busy chart but the intention is to highlight the points that represent the biggest (or smallest) changes in % volume as additional reference.\n\nGood news for the industry is that the **positive scenarios held up in *almost* all cases**:\n\n\n::: {.cell layout-align=\"center\"}\n\n```{.r .cell-code}\nch_title <- \"Relationship Between Changes in $/Litre and Net $ Sales\"\ntrend_yr_cat %>% ggplot(aes(x=pc_chg_dollar_per_l, y=pc_chg_sales, size=pc_chg_litre, color=year, label=year))+\n  geom_point()+\n  guides(size='none')+\n  scale_color_gradient(low = \"lightblue\", high = \"darkblue\") +\n  facet_grid(type~., scales='free_y')+\n  scale_x_continuous(labels=percent_format())+\n  scale_y_continuous(labels=percent_format())+\n  geom_hline(yintercept=0, linetype='dotted', color='red')+\n  geom_vline(xintercept = 0, linetype='dotted', color='red')+\n  labs(title=ch_title, x=\"% Chg in $/litre\", y=\"% Chg in Net $ Sales - scale varies\")+\n  theme(panel.border = element_rect(fill=NA))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-17-1.png){fig-align='center' width=480}\n:::\n:::\n\n\n**Beer was the only case where changes in \\$/litre did not always have the hoped for effect** of leading to overall higher total net \\$ sales: the smaller price changes, associated with declines in volume (small dots), resulted in overall decreasing net \\$ sales. On the plus side, the largest year-over-year increase in \\$/litre for beer *did* result in overall increase in net \\$ sales, even though associated with decrease in litre volume.\n\n## Part 1 Wrap-up & Next-up\n\nThat concludes our look at annual trends in the BC Liquor Market Review data.\n\n#### Next-up:\n\n1.  **Quarterly patterns:** exploration of the seasonal patterns in the BC liquor market by delving into data at the quarterly level, again going back to 2015.\n2.  **Category trends and patterns:** closer look at each of the major beverage types, exploring categories and sub-categories within them, as reported in the Liquor Market Review.\n\nComing soon!\n\n## Footnotes\n\nNotes on 'net \\$ sales' and '\\$ per litre':\n\n-   the report says \"**Net dollar value is based on the price paid by the customer** and excludes any applicable taxes.\"\n-   calculating average **net dollar value per litre for beverage categories gives unrealistically low numbers** compared to retail prices in BC liquor stores. (*Beer at average \\$4/litre? Not even the cheapest beer on the [BC Liquor Stores](https://www.bcliquorstores.com/product-catalogue?category=beer&sort=currentPrice:desc&page=1) website.*)\n-   there is likely additional factors related to BC LDB pricing structure, wholesaling, etc.\n-   best to **consider average net dollar value per litre referred to above as relative indicator**.\n\n## \n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"../../site_libs/plotly-binding-4.10.1/plotly.js\"></script>\n<script src=\"../../site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"../../site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n<link href=\"../../site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}